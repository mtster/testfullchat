/*! For license information please see main.8040222d.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=_.prototype=new v;b.constructor=_,g(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)C.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+I(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),N(s,t,i,"",function(e){return e})):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+I(a=e[c],c);l+=N(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=o+I(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},A={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)C.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,b(e),!g)if(null!==r(c))g=!0,A(C);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function C(e,n){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var o=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&O(w,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,T=-1,x=5,I=-1;function N(){return!(t.unstable_now()-I<x)}function P(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof _)S=function(){_(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=P,S=function(){D.postMessage(null)}}else S=function(){y(P,0)};function A(e){E=e,k||(k=!0,S())}function O(e,n){T=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,A(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(v(T),T=-1):m=!0,O(w,o-s))):(e.sortIndex=a,n(c,e),g||p||(g=!0,A(C))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.H=r.createRoot,r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),x=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Zn){var r=Zn}Reflect.construct(e,[],t)}else{try{t.call()}catch(Zn){r=Zn}e.call(t.prototype)}else{try{throw Error()}catch(Zn){r=Zn}e()}}catch(Zn){if(Zn&&r&&"string"===typeof Zn.stack){for(var i=Zn.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case C:return"Portal";case E:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(sa){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Se=null,ke=null;function Ee(e){if(e=Si(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),Ce(e.stateNode,e.type,t))}}function Te(e){Se?ke?ke.push(e):ke=[e]:Se=e}function xe(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Se||null!==ke)&&(Ne(),xe())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Ae=!1}function Le(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Fe=!1,Ue=null,ze={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,o,s,a,l){Me=!1,je=null,Le.apply(ze,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(o(188))}function Ve(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var $e=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Ct,St,kt,Et,Tt=!1,xt=[],It=null,Nt=null,Pt=null,Rt=new Map,Dt=new Map,At=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Si(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=Ci(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Et(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Si(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){Tt=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Pt&&Ft(Pt)&&(Pt=null),Rt.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function qt(e){function t(t){return Bt(t,e)}if(0<xt.length){Bt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Nt&&Bt(Nt,e),null!==Pt&&Bt(Pt,e),Rt.forEach(t),Dt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)jt(n),null===n.blockedOn&&At.shift()}var Wt=b.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var i=_t,o=Wt.transition;Wt.transition=null;try{_t=1,$t(e,t,n,r)}finally{_t=i,Wt.transition=o}}function Kt(e,t,n,r){var i=_t,o=Wt.transition;Wt.transition=null;try{_t=4,$t(e,t,n,r)}finally{_t=i,Wt.transition=o}}function $t(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Yr(e,t,r,Yt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Mt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=Si(i);if(null!==o&&wt(o),null===(o=Qt(e,t,n,r))&&Yr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Yr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=Ci(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=j({},cn,{view:0,detail:0}),dn=on(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(j({},fn,{dataTransfer:0})),mn=on(j({},hn,{relatedTarget:0})),yn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(vn),bn=on(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return kn}var Tn=j({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(Tn),In=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(Rn),An=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,jn=u&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,$n=null;function Yn(e){qr(e,0)}function Gn(e){if($(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var er;if(u){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Jn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Kn&&(Kn.detachEvent("onpropertychange",ir),$n=Kn=null)}function ir(e){if("value"===e.propertyName&&Gn($n)){var t=[];Vn(t,$n,e,we(e)),Re(Yn,t)}}function or(e,t,n){"focusin"===e?(rr(),$n=n,(Kn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn($n)}function ar(e,t){if("click"===e)return Gn(t)}function cr(e,t){if("input"===e||"change"===e)return Gn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function hr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gr(n.ownerDocument.documentElement,n)){if(null!==r&&yr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=pr(n,o);var s=pr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _r=u&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,Cr=null,Sr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==br||br!==Y(r)||("selectionStart"in(r=br)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Cr&&hr(Cr,r)||(Cr=r,0<(r=Gr(wr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},xr={},Ir={};function Nr(e){if(xr[e])return xr[e];if(!Tr[e])return e;var t,n=Tr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);var Pr=Nr("animationend"),Rr=Nr("animationiteration"),Dr=Nr("animationstart"),Ar=Nr("transitionend"),Or=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Or.set(e,t),l(t,[e])}for(var jr=0;jr<Lr.length;jr++){var Fr=Lr[jr];Mr(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Mr(Pr,"onAnimationEnd"),Mr(Rr,"onAnimationIteration"),Mr(Dr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=je;Me=!1,je=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Br(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Br(i,a,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Wr(e,t){var n=t[_i];void 0===n&&(n=t[_i]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){if(!e[Vr]){e[Vr]=!0,s.forEach(function(t){"selectionchange"!==t&&(zr.has(t)||Hr(t,!1,e),Hr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Hr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Gt(t)){case 1:var i=Vt;break;case 4:i=Kt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=Ci(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Re(function(){var r=o,i=we(n),s=[];e:{var a=Or.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Pr:case Rr:case Dr:l=yn;break;case Ar:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=De(p,d))&&u.push(Qr(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!Ci(c)&&!c[vi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ci(c):null)&&(c!==(h=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ki(l),f=null==c?a:ki(c),(a=new u(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,Ci(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Xr(f))p++;for(f=0,g=d;g;g=Xr(g))f++;for(;0<p-f;)u=Xr(u),p--;for(;0<f-p;)d=Xr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Xr(u),d=Xr(d)}u=null}else u=null;null!==l&&Jr(s,a,l,u,!1),null!==c&&null!==h&&Jr(s,h,c,u,!0)}if("select"===(l=(a=r?ki(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Xn;else if(Hn(a))if(Jn)m=cr;else{m=sr;var y=or}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ar);switch(m&&(m=m(e,r))?Vn(s,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?ki(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(br=y,wr=r,Cr=null);break;case"focusout":Cr=wr=br=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,kr(s,n,i);break;case"selectionchange":if(_r)break;case"keydown":case"keyup":kr(s,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else qn?zn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(y=Gr(r,_)).length&&(_=new bn(_,e,null,n,i),s.push({event:_,listeners:y}),v?_.data=v:null!==(v=Bn(n))&&(_.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}qr(s,t)})}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Qr(e,o,i)),null!=(o=De(e,t))&&r.push(Qr(e,o,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=De(n,o))&&s.unshift(Qr(n,l,a)):i||null!=(l=De(n,o))&&s.push(Qr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Zr=/\r\n?/g,ei=/\u0000|\uFFFD/g;function ti(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(ei,"")}function ni(e,t,n){if(t=ti(t),ti(e)!==t&&n)throw Error(o(425))}function ri(){}var ii=null,oi=null;function si(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ai="function"===typeof setTimeout?setTimeout:void 0,li="function"===typeof clearTimeout?clearTimeout:void 0,ci="function"===typeof Promise?Promise:void 0,ui="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ci?function(e){return ci.resolve(null).then(e).catch(hi)}:ai;function hi(e){setTimeout(function(){throw e})}function di(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function fi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function pi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),mi="__reactFiber$"+gi,yi="__reactProps$"+gi,vi="__reactContainer$"+gi,_i="__reactEvents$"+gi,bi="__reactListeners$"+gi,wi="__reactHandles$"+gi;function Ci(e){var t=e[mi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[mi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=pi(e);null!==e;){if(n=e[mi])return n;e=pi(e)}return t}n=(e=n).parentNode}return null}function Si(e){return!(e=e[mi]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[yi]||null}var Ti=[],xi=-1;function Ii(e){return{current:e}}function Ni(e){0>xi||(e.current=Ti[xi],Ti[xi]=null,xi--)}function Pi(e,t){xi++,Ti[xi]=e.current,e.current=t}var Ri={},Di=Ii(Ri),Ai=Ii(!1),Oi=Ri;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ri;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Fi(){Ni(Ai),Ni(Di)}function Ui(e,t,n){if(Di.current!==Ri)throw Error(o(168));Pi(Di,t),Pi(Ai,n)}function zi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return j({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ri,Oi=Di.current,Pi(Di,e),Pi(Ai,Ai.current),!0}function qi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=zi(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ni(Ai),Ni(Di),Pi(Di,e)):Ni(Ai),Pi(Ai,n)}var Wi=null,Hi=!1,Vi=!1;function Ki(e){null===Wi?Wi=[e]:Wi.push(e)}function $i(){if(!Vi&&null!==Wi){Vi=!0;var e=0,t=_t;try{var n=Wi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Wi=null,Hi=!1}catch(i){throw null!==Wi&&(Wi=Wi.slice(e+1)),$e(Ze,$i),i}finally{_t=t,Vi=!1}}return null}var Yi=[],Qi=0,Gi=null,Xi=0,Ji=[],Zi=0,eo=null,to=1,no="";function ro(e,t){Yi[Qi++]=Xi,Yi[Qi++]=Gi,Gi=e,Xi=t}function io(e,t,n){Ji[Zi++]=to,Ji[Zi++]=no,Ji[Zi++]=eo,eo=e;var r=to;e=no;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,to=1<<32-st(t)+i|n<<i|r,no=o+e}else to=1<<o|n<<i|r,no=e}function oo(e){null!==e.return&&(ro(e,1),io(e,1,0))}function so(e){for(;e===Gi;)Gi=Yi[--Qi],Yi[Qi]=null,Xi=Yi[--Qi],Yi[Qi]=null;for(;e===eo;)eo=Ji[--Zi],Ji[Zi]=null,no=Ji[--Zi],Ji[Zi]=null,to=Ji[--Zi],Ji[Zi]=null}var ao=null,lo=null,co=!1,uo=null;function ho(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function fo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ao=e,lo=fi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ao=e,lo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==eo?{id:to,overflow:no}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ao=e,lo=null,!0);default:return!1}}function po(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function go(e){if(co){var t=lo;if(t){var n=t;if(!fo(e,t)){if(po(e))throw Error(o(418));t=fi(n.nextSibling);var r=ao;t&&fo(e,t)?ho(r,n):(e.flags=-4097&e.flags|2,co=!1,ao=e)}}else{if(po(e))throw Error(o(418));e.flags=-4097&e.flags|2,co=!1,ao=e}}}function mo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ao=e}function yo(e){if(e!==ao)return!1;if(!co)return mo(e),co=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!si(e.type,e.memoizedProps)),t&&(t=lo)){if(po(e))throw vo(),Error(o(418));for(;t;)ho(e,t),t=fi(t.nextSibling)}if(mo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){lo=fi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}lo=null}}else lo=ao?fi(e.stateNode.nextSibling):null;return!0}function vo(){for(var e=lo;e;)e=fi(e.nextSibling)}function _o(){lo=ao=null,co=!1}function bo(e){null===uo?uo=[e]:uo.push(e)}var wo=b.ReactCurrentBatchConfig;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function So(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ko(e){return(0,e._init)(e._payload)}function Eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&ko(o)===t.type)?((r=i(t,n.props)).ref=Co(e,t,n),r.return=e,r):((r=zc(n.type,n.key,n.props,null,e.mode,r)).ref=Co(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Bc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Wc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=zc(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case C:return(t=Hc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Bc(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);So(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function g(i,o,a,l){for(var c=null,u=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(i,h,a[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,g),null===u?c=y:u.sibling=y,u=y,h=m}if(g===a.length)return n(i,h),co&&ro(i,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(o=s(h,o,g),null===u?c=h:u.sibling=h,u=h);return co&&ro(i,g),c}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),co&&ro(i,g),c}function m(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var _=f(i,g,v.value,c);if(null===_){null===g&&(g=y);break}e&&g&&null===_.alternate&&t(i,g),a=s(_,a,m),null===h?u=_:h.sibling=_,h=_,g=y}if(v.done)return n(i,g),co&&ro(i,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,c))&&(a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return co&&ro(i,m),u}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return e&&g.forEach(function(e){return t(i,e)}),co&&ro(i,m),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&ko(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Co(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((o=Bc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=zc(s.type,s.key,s.props,null,r.mode,l)).ref=Co(r,o,s),l.return=r,r=l)}return a(r);case C:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Hc(s,r.mode,l)).return=r,r=o}return a(r);case D:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return g(r,o,s,l);if(L(s))return m(r,o,s,l);So(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Wc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var To=Eo(!0),xo=Eo(!1),Io=Ii(null),No=null,Po=null,Ro=null;function Do(){Ro=Po=No=null}function Ao(e){var t=Io.current;Ni(Io),e._currentValue=t}function Oo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lo(e,t){No=e,Ro=Po=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ea=!0),e.firstContext=null)}function Mo(e){var t=e._currentValue;if(Ro!==e)if(e={context:e,memoizedValue:t,next:null},null===Po){if(null===No)throw Error(o(308));Po=e,No.dependencies={lanes:0,firstContext:e}}else Po=Po.next=e;return t}var jo=null;function Fo(e){null===jo?jo=[e]:jo.push(e)}function Uo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Fo(t)):(n.next=i.next,i.next=n),t.interleaved=n,zo(e,r)}function zo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Bo=!1;function qo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ho(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zo(e,n)}return null===(i=r.interleaved)?(t.next=t,Fo(r)):(t.next=i.next,i.next=t),r.interleaved=t,zo(e,n)}function Ko(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function $o(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yo(e,t,n,r){var i=e.updateQueue;Bo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Bo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);ql|=s,e.lanes=s,e.memoizedState=h}}function Qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Go={},Xo=Ii(Go),Jo=Ii(Go),Zo=Ii(Go);function es(e){if(e===Go)throw Error(o(174));return e}function ts(e,t){switch(Pi(Zo,t),Pi(Jo,e),Pi(Xo,Go),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(Xo),Pi(Xo,t)}function ns(){Ni(Xo),Ni(Jo),Ni(Zo)}function rs(e){es(Zo.current);var t=es(Xo.current),n=le(t,e.type);t!==n&&(Pi(Jo,e),Pi(Xo,n))}function is(e){Jo.current===e&&(Ni(Xo),Ni(Jo))}var os=Ii(0);function ss(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var as=[];function ls(){for(var e=0;e<as.length;e++)as[e]._workInProgressVersionPrimary=null;as.length=0}var cs=b.ReactCurrentDispatcher,us=b.ReactCurrentBatchConfig,hs=0,ds=null,fs=null,ps=null,gs=!1,ms=!1,ys=0,vs=0;function _s(){throw Error(o(321))}function bs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ws(e,t,n,r,i,s){if(hs=s,ds=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cs.current=null===e||null===e.memoizedState?ia:oa,e=n(r,i),ms){s=0;do{if(ms=!1,ys=0,25<=s)throw Error(o(301));s+=1,ps=fs=null,t.updateQueue=null,cs.current=aa,e=n(r,i)}while(ms)}if(cs.current=ra,t=null!==fs&&null!==fs.next,hs=0,ps=fs=ds=null,gs=!1,t)throw Error(o(300));return e}function Cs(){var e=0!==ys;return ys=0,e}function Ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ps?ds.memoizedState=ps=e:ps=ps.next=e,ps}function ks(){if(null===fs){var e=ds.alternate;e=null!==e?e.memoizedState:null}else e=fs.next;var t=null===ps?ds.memoizedState:ps.next;if(null!==t)ps=t,fs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(fs=e).memoizedState,baseState:fs.baseState,baseQueue:fs.baseQueue,queue:fs.queue,next:null},null===ps?ds.memoizedState=ps=e:ps=ps.next=e}return ps}function Es(e,t){return"function"===typeof t?t(e):t}function Ts(e){var t=ks(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=fs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((hs&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,ds.lanes|=h,ql|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ur(r,t.memoizedState)||(Ea=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ds.lanes|=s,ql|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=ks(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ur(s,t.memoizedState)||(Ea=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Is(){}function Ns(e,t){var n=ds,r=ks(),i=t(),s=!ur(r.memoizedState,i);if(s&&(r.memoizedState=i,Ea=!0),r=r.queue,Bs(Ds.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ps&&1&ps.memoizedState.tag){if(n.flags|=2048,Ms(9,Rs.bind(null,n,r,i,t),void 0,null),null===Ll)throw Error(o(349));0!==(30&hs)||Ps(n,t,i)}return i}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ds.updateQueue)?(t={lastEffect:null,stores:null},ds.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Rs(e,t,n,r){t.value=n,t.getSnapshot=r,As(t)&&Os(e)}function Ds(e,t,n){return n(function(){As(t)&&Os(e)})}function As(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Os(e){var t=zo(e,1);null!==t&&lc(t,e,1,-1)}function Ls(e){var t=Ss();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:e},t.queue=e,e=e.dispatch=Zs.bind(null,ds,e),[t.memoizedState,e]}function Ms(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ds.updateQueue)?(t={lastEffect:null,stores:null},ds.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function js(){return ks().memoizedState}function Fs(e,t,n,r){var i=Ss();ds.flags|=e,i.memoizedState=Ms(1|t,n,void 0,void 0===r?null:r)}function Us(e,t,n,r){var i=ks();r=void 0===r?null:r;var o=void 0;if(null!==fs){var s=fs.memoizedState;if(o=s.destroy,null!==r&&bs(r,s.deps))return void(i.memoizedState=Ms(t,n,o,r))}ds.flags|=e,i.memoizedState=Ms(1|t,n,o,r)}function zs(e,t){return Fs(8390656,8,e,t)}function Bs(e,t){return Us(2048,8,e,t)}function qs(e,t){return Us(4,2,e,t)}function Ws(e,t){return Us(4,4,e,t)}function Hs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Hs.bind(null,t,e),n)}function Ks(){}function $s(e,t){var n=ks();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ys(e,t){var n=ks();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qs(e,t,n){return 0===(21&hs)?(e.baseState&&(e.baseState=!1,Ea=!0),e.memoizedState=n):(ur(n,t)||(n=gt(),ds.lanes|=n,ql|=n,e.baseState=!0),t)}function Gs(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=us.transition;us.transition={};try{e(!1),t()}finally{_t=n,us.transition=r}}function Xs(){return ks().memoizedState}function Js(e,t,n){var r=ac(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ea(e))ta(t,n);else if(null!==(n=Uo(e,t,n,r))){lc(n,e,r,sc()),na(n,t,r)}}function Zs(e,t,n){var r=ac(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ea(e))ta(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ur(a,s)){var l=t.interleaved;return null===l?(i.next=i,Fo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Zn){}null!==(n=Uo(e,t,i,r))&&(lc(n,e,r,i=sc()),na(n,t,r))}}function ea(e){var t=e.alternate;return e===ds||null!==t&&t===ds}function ta(e,t){ms=gs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function na(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var ra={readContext:Mo,useCallback:_s,useContext:_s,useEffect:_s,useImperativeHandle:_s,useInsertionEffect:_s,useLayoutEffect:_s,useMemo:_s,useReducer:_s,useRef:_s,useState:_s,useDebugValue:_s,useDeferredValue:_s,useTransition:_s,useMutableSource:_s,useSyncExternalStore:_s,useId:_s,unstable_isNewReconciler:!1},ia={readContext:Mo,useCallback:function(e,t){return Ss().memoizedState=[e,void 0===t?null:t],e},useContext:Mo,useEffect:zs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fs(4194308,4,Hs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fs(4,2,e,t)},useMemo:function(e,t){var n=Ss();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ss();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Js.bind(null,ds,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ss().memoizedState=e},useState:Ls,useDebugValue:Ks,useDeferredValue:function(e){return Ss().memoizedState=e},useTransition:function(){var e=Ls(!1),t=e[0];return e=Gs.bind(null,e[1]),Ss().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ds,i=Ss();if(co){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ll)throw Error(o(349));0!==(30&hs)||Ps(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,zs(Ds.bind(null,r,s,e),[e]),r.flags|=2048,Ms(9,Rs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ss(),t=Ll.identifierPrefix;if(co){var n=no;t=":"+t+"R"+(n=(to&~(1<<32-st(to)-1)).toString(32)+n),0<(n=ys++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=vs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oa={readContext:Mo,useCallback:$s,useContext:Mo,useEffect:Bs,useImperativeHandle:Vs,useInsertionEffect:qs,useLayoutEffect:Ws,useMemo:Ys,useReducer:Ts,useRef:js,useState:function(){return Ts(Es)},useDebugValue:Ks,useDeferredValue:function(e){return Qs(ks(),fs.memoizedState,e)},useTransition:function(){return[Ts(Es)[0],ks().memoizedState]},useMutableSource:Is,useSyncExternalStore:Ns,useId:Xs,unstable_isNewReconciler:!1},aa={readContext:Mo,useCallback:$s,useContext:Mo,useEffect:Bs,useImperativeHandle:Vs,useInsertionEffect:qs,useLayoutEffect:Ws,useMemo:Ys,useReducer:xs,useRef:js,useState:function(){return xs(Es)},useDebugValue:Ks,useDeferredValue:function(e){var t=ks();return null===fs?t.memoizedState=e:Qs(t,fs.memoizedState,e)},useTransition:function(){return[xs(Es)[0],ks().memoizedState]},useMutableSource:Is,useSyncExternalStore:Ns,useId:Xs,unstable_isNewReconciler:!1};function la(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ca(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ua={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sc(),i=ac(e),o=Ho(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(lc(t,e,i,r),Ko(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sc(),i=ac(e),o=Ho(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(lc(t,e,i,r),Ko(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sc(),r=ac(e),i=Ho(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vo(e,i,r))&&(lc(t,e,r,n),Ko(t,e,r))}};function ha(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,o))}function da(e,t,n){var r=!1,i=Ri,o=t.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(i=ji(t)?Oi:Di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Ri),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ua.enqueueReplaceState(t,t.state,null)}function pa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},qo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Mo(o):(o=ji(t)?Oi:Di.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ca(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ua.enqueueReplaceState(i,i.state,null),Yo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ga(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ma(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ya(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var va="function"===typeof WeakMap?WeakMap:Map;function _a(e,t,n){(n=Ho(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Xl=r),ya(0,t)},n}function ba(e,t,n){(n=Ho(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ya(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ya(0,t),"function"!==typeof r&&(null===Jl?Jl=new Set([this]):Jl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function wa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new va;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Rc.bind(null,e,t,n),t.then(e,e))}function Ca(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Sa(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ho(-1,1)).tag=2,Vo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ka=b.ReactCurrentOwner,Ea=!1;function Ta(e,t,n,r){t.child=null===e?xo(t,null,n,r):To(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var o=t.ref;return Lo(t,i),r=ws(e,t,n,r,o,i),n=Cs(),null===e||Ea?(co&&n&&oo(t),t.flags|=1,Ta(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i))}function Ia(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Fc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Na(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:hr)(s,r)&&e.ref===t.ref)return Ga(e,t,i)}return t.flags|=1,(e=Uc(o,r)).ref=t.ref,e.return=t,t.child=e}function Na(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(hr(o,r)&&e.ref===t.ref){if(Ea=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ga(e,t,i);0!==(131072&e.flags)&&(Ea=!0)}}return Da(e,t,n,r,i)}function Pa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(Ul,Fl),Fl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pi(Ul,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Pi(Ul,Fl),Fl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Pi(Ul,Fl),Fl|=r;return Ta(e,t,i,n),t.child}function Ra(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Da(e,t,n,r,i){var o=ji(n)?Oi:Di.current;return o=Mi(t,o),Lo(t,i),n=ws(e,t,n,r,o,i),r=Cs(),null===e||Ea?(co&&r&&oo(t),t.flags|=1,Ta(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i))}function Aa(e,t,n,r,i){if(ji(n)){var o=!0;Bi(t)}else o=!1;if(Lo(t,i),null===t.stateNode)Qa(e,t),da(t,n,r),pa(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mo(c):c=Mi(t,c=ji(n)?Oi:Di.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&fa(t,s,r,c),Bo=!1;var d=t.memoizedState;s.state=d,Yo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ai.current||Bo?("function"===typeof u&&(ca(t,n,u,r),l=t.memoizedState),(a=Bo||ha(t,n,a,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Wo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:la(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mo(l):l=Mi(t,l=ji(n)?Oi:Di.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&fa(t,s,r,l),Bo=!1,d=t.memoizedState,s.state=d,Yo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ai.current||Bo?("function"===typeof f&&(ca(t,n,f,r),p=t.memoizedState),(c=Bo||ha(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Oa(e,t,n,r,o,i)}function Oa(e,t,n,r,i,o){Ra(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&qi(t,n,!1),Ga(e,t,o);r=t.stateNode,ka.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=To(t,e.child,null,o),t.child=To(t,null,a,o)):Ta(e,t,a,o),t.memoizedState=r.state,i&&qi(t,n,!0),t.child}function La(e){var t=e.stateNode;t.pendingContext?Ui(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ui(0,t.context,!1),ts(e,t.containerInfo)}function Ma(e,t,n,r,i){return _o(),bo(i),t.flags|=256,Ta(e,t,n,r),t.child}var ja,Fa,Ua,za,Ba={dehydrated:null,treeContext:null,retryLane:0};function qa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wa(e,t,n){var r,i=t.pendingProps,s=os.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Pi(os,1&s),null===e)return go(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=qc(l,i,0,null),e=Bc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=qa(n),t.memoizedState=Ba,e):Ha(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ma(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=qc({mode:"visible",children:r.children},i,0,null),(s=Bc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&To(t,e.child,null,a),t.child.memoizedState=qa(a),t.memoizedState=Ba,s);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ma(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),Ea||l){if(null!==(r=Ll)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,zo(e,i),lc(r,e,i,-1))}return wc(),Va(e,t,a,r=ma(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,lo=fi(i.nextSibling),ao=t,co=!0,uo=null,null!==e&&(Ji[Zi++]=to,Ji[Zi++]=no,Ji[Zi++]=eo,to=e.id,no=e.overflow,eo=t),t=Ha(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Uc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Uc(r,a):(a=Bc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?qa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ba,i}return e=(a=e.child).sibling,i=Uc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ha(e,t){return(t=qc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&bo(r),To(t,e.child,null,n),(e=Ha(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ka(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oo(e.return,t,n)}function $a(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ya(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ta(e,t,r.children,n),0!==(2&(r=os.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n,t);else if(19===e.tag)Ka(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pi(os,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ss(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$a(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ss(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$a(t,!0,n,null,o);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ga(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ql|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Uc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){if(!co)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ja(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Za(e,t,n){var r=t.pendingProps;switch(so(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ja(t),null;case 1:case 17:return ji(t.type)&&Fi(),Ja(t),null;case 3:return r=t.stateNode,ns(),Ni(Ai),Ni(Di),ls(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(yo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==uo&&(dc(uo),uo=null))),Fa(e,t),Ja(t),null;case 5:is(t);var i=es(Zo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ua(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ja(t),null}if(e=es(Xo.current),yo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[mi]=t,r[yi]=s,e=0!==(1&t.mode),n){case"dialog":Wr("cancel",r),Wr("close",r);break;case"iframe":case"object":case"embed":Wr("load",r);break;case"video":case"audio":for(i=0;i<Ur.length;i++)Wr(Ur[i],r);break;case"source":Wr("error",r);break;case"img":case"image":case"link":Wr("error",r),Wr("load",r);break;case"details":Wr("toggle",r);break;case"input":G(r,s),Wr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Wr("invalid",r);break;case"textarea":ie(r,s),Wr("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&ni(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&ni(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Wr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ri)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[mi]=t,e[yi]=r,ja(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Wr("cancel",e),Wr("close",e),i=r;break;case"iframe":case"object":case"embed":Wr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ur.length;i++)Wr(Ur[i],e);i=r;break;case"source":Wr("error",e),i=r;break;case"img":case"image":case"link":Wr("error",e),Wr("load",e),i=r;break;case"details":Wr("toggle",e),i=r;break;case"input":G(e,r),i=Q(e,r),Wr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Wr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Wr("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Wr("scroll",e):null!=u&&_(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ri)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ja(t),null;case 6:if(e&&null!=t.stateNode)za(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=es(Zo.current),es(Xo.current),yo(t)){if(r=t.stateNode,n=t.memoizedProps,r[mi]=t,(s=r.nodeValue!==n)&&null!==(e=ao))switch(e.tag){case 3:ni(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ni(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[mi]=t,t.stateNode=r}return Ja(t),null;case 13:if(Ni(os),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(co&&null!==lo&&0!==(1&t.mode)&&0===(128&t.flags))vo(),_o(),t.flags|=98560,s=!1;else if(s=yo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[mi]=t}else _o(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ja(t),s=!1}else null!==uo&&(dc(uo),uo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&os.current)?0===zl&&(zl=3):wc())),null!==t.updateQueue&&(t.flags|=4),Ja(t),null);case 4:return ns(),Fa(e,t),null===e&&Kr(t.stateNode.containerInfo),Ja(t),null;case 10:return Ao(t.type._context),Ja(t),null;case 19:if(Ni(os),null===(s=t.memoizedState))return Ja(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Xa(s,!1);else{if(0!==zl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ss(e))){for(t.flags|=128,Xa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pi(os,1&os.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Yl&&(t.flags|=128,r=!0,Xa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ss(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!co)return Ja(t),null}else 2*Xe()-s.renderingStartTime>Yl&&1073741824!==n&&(t.flags|=128,r=!0,Xa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=os.current,Pi(os,r?1&n|2:1&n),t):(Ja(t),null);case 22:case 23:return yc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fl)&&(Ja(t),6&t.subtreeFlags&&(t.flags|=8192)):Ja(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function el(e,t){switch(so(t),t.tag){case 1:return ji(t.type)&&Fi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ns(),Ni(Ai),Ni(Di),ls(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return is(t),null;case 13:if(Ni(os),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));_o()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ni(os),null;case 4:return ns(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return yc(),null;default:return null}}ja=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fa=function(){},Ua=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,es(Xo.current);var o,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ri)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Wr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},za=function(e,t,n,r){n!==r&&(t.flags|=4)};var tl=!1,nl=!1,rl="function"===typeof WeakSet?WeakSet:Set,il=null;function ol(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Pc(e,t,r)}else n.current=null}function sl(e,t,n){try{n()}catch(r){Pc(e,t,r)}}var al=!1;function ll(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&sl(t,n,o)}i=i.next}while(i!==r)}}function cl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ul(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function hl(e){var t=e.alternate;null!==t&&(e.alternate=null,hl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mi],delete t[yi],delete t[_i],delete t[bi],delete t[wi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dl(e){return 5===e.tag||3===e.tag||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||dl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ri));else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}var ml=null,yl=!1;function vl(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:nl||ol(n,t);case 6:var r=ml,i=yl;ml=null,vl(e,t,n),yl=i,null!==(ml=r)&&(yl?(e=ml,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ml.removeChild(n.stateNode));break;case 18:null!==ml&&(yl?(e=ml,n=n.stateNode,8===e.nodeType?di(e.parentNode,n):1===e.nodeType&&di(e,n),qt(e)):di(ml,n.stateNode));break;case 4:r=ml,i=yl,ml=n.stateNode.containerInfo,yl=!0,vl(e,t,n),ml=r,yl=i;break;case 0:case 11:case 14:case 15:if(!nl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&sl(n,t,s),i=i.next}while(i!==r)}vl(e,t,n);break;case 1:if(!nl&&(ol(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pc(n,t,a)}vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:1&n.mode?(nl=(r=nl)||null!==n.memoizedState,vl(e,t,n),nl=r):vl(e,t,n);break;default:vl(e,t,n)}}function bl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new rl),t.forEach(function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function wl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ml=l.stateNode,yl=!1;break e;case 3:case 4:ml=l.stateNode.containerInfo,yl=!0;break e}l=l.return}if(null===ml)throw Error(o(160));_l(s,a,i),ml=null,yl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Zn){Pc(i,t,Zn)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Cl(t,e),t=t.sibling}function Cl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wl(t,e),Sl(e),4&r){try{ll(3,e,e.return),cl(3,e)}catch(m){Pc(e,e.return,m)}try{ll(5,e,e.return)}catch(m){Pc(e,e.return,m)}}break;case 1:wl(t,e),Sl(e),512&r&&null!==n&&ol(n,n.return);break;case 5:if(wl(t,e),Sl(e),512&r&&null!==n&&ol(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Pc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),_e(l,a);var u=_e(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[yi]=s}catch(m){Pc(e,e.return,m)}}break;case 6:if(wl(t,e),Sl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Pc(e,e.return,m)}}break;case 3:if(wl(t,e),Sl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Pc(e,e.return,m)}break;case 4:default:wl(t,e),Sl(e);break;case 13:wl(t,e),Sl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||($l=Xe())),4&r&&bl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(nl=(u=nl)||h,wl(t,e),nl=u):wl(t,e),Sl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(il=e,h=e.child;null!==h;){for(d=il=h;null!==il;){switch(p=(f=il).child,f.tag){case 0:case 11:case 14:case 15:ll(4,f,f.return);break;case 1:ol(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Pc(r,n,m)}}break;case 5:ol(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,il=p):xl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){Pc(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Pc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wl(t,e),Sl(e),4&r&&bl(e);case 21:}}function Sl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(dl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),gl(e,fl(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;pl(e,fl(e),s);break;default:throw Error(o(161))}}catch(Qn){Pc(e,e.return,Qn)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function kl(e,t,n){il=e,El(e,t,n)}function El(e,t,n){for(var r=0!==(1&e.mode);null!==il;){var i=il,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||tl;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||nl;a=tl;var c=nl;if(tl=s,(nl=l)&&!c)for(il=i;null!==il;)l=(s=il).child,22===s.tag&&null!==s.memoizedState?Il(i):null!==l?(l.return=s,il=l):Il(i);for(;null!==o;)il=o,El(o,t,n),o=o.sibling;il=i,tl=a,nl=c}Tl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,il=o):Tl(e)}}function Tl(e){for(;null!==il;){var t=il;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:nl||cl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!nl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:la(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Qo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Qo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(o(163))}nl||512&t.flags&&ul(t)}catch(lr){Pc(t,t.return,lr)}}if(t===e){il=null;break}if(null!==(n=t.sibling)){n.return=t.return,il=n;break}il=t.return}}function xl(e){for(;null!==il;){var t=il;if(t===e){il=null;break}var n=t.sibling;if(null!==n){n.return=t.return,il=n;break}il=t.return}}function Il(e){for(;null!==il;){var t=il;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cl(4,t)}catch(Qn){Pc(t,n,Qn)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Qn){Pc(t,i,Qn)}}var o=t.return;try{ul(t)}catch(Qn){Pc(t,o,Qn)}break;case 5:var s=t.return;try{ul(t)}catch(Qn){Pc(t,s,Qn)}}}catch(Qn){Pc(t,t.return,Qn)}if(t===e){il=null;break}var a=t.sibling;if(null!==a){a.return=t.return,il=a;break}il=t.return}}var Nl,Pl=Math.ceil,Rl=b.ReactCurrentDispatcher,Dl=b.ReactCurrentOwner,Al=b.ReactCurrentBatchConfig,Ol=0,Ll=null,Ml=null,jl=0,Fl=0,Ul=Ii(0),zl=0,Bl=null,ql=0,Wl=0,Hl=0,Vl=null,Kl=null,$l=0,Yl=1/0,Ql=null,Gl=!1,Xl=null,Jl=null,Zl=!1,ec=null,tc=0,nc=0,rc=null,ic=-1,oc=0;function sc(){return 0!==(6&Ol)?Xe():-1!==ic?ic:ic=Xe()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==jl?jl&-jl:null!==wo.transition?(0===oc&&(oc=gt()),oc):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function lc(e,t,n,r){if(50<nc)throw nc=0,rc=null,Error(o(185));yt(e,n,r),0!==(2&Ol)&&e===Ll||(e===Ll&&(0===(2&Ol)&&(Wl|=n),4===zl&&fc(e,jl)),cc(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(Yl=Xe()+500,Hi&&$i()))}function cc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Ll?jl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Hi=!0,Ki(e)}(pc.bind(null,e)):Ki(pc.bind(null,e)),ui(function(){0===(6&Ol)&&$i()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lc(n,uc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uc(e,t){if(ic=-1,oc=0,0!==(6&Ol))throw Error(o(327));var n=e.callbackNode;if(Ic()&&e.callbackNode!==n)return null;var r=dt(e,e===Ll?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Cc(e,r);else{t=r;var i=Ol;Ol|=2;var s=bc();for(Ll===e&&jl===t||(Ql=null,Yl=Xe()+500,vc(e,t));;)try{kc();break}catch(l){_c(e,l)}Do(),Rl.current=s,Ol=i,null!==Ml?t=0:(Ll=null,jl=0,t=zl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=hc(e,i))),1===t)throw n=Bl,vc(e,0),fc(e,r),cc(e,Xe()),n;if(6===t)fc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ur(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Cc(e,r))&&(0!==(s=pt(e))&&(r=s,t=hc(e,s))),1===t))throw n=Bl,vc(e,0),fc(e,r),cc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Kl,Ql);break;case 3:if(fc(e,r),(130023424&r)===r&&10<(t=$l+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){sc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ai(xc.bind(null,e,Kl,Ql),t);break}xc(e,Kl,Ql);break;case 4:if(fc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pl(r/1960))-r)){e.timeoutHandle=ai(xc.bind(null,e,Kl,Ql),r);break}xc(e,Kl,Ql);break;default:throw Error(o(329))}}}return cc(e,Xe()),e.callbackNode===n?uc.bind(null,e):null}function hc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(vc(e,t).flags|=256),2!==(e=Cc(e,t))&&(t=Kl,Kl=n,null!==t&&dc(t)),e}function dc(e){null===Kl?Kl=e:Kl.push.apply(Kl,e)}function fc(e,t){for(t&=~Hl,t&=~Wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function pc(e){if(0!==(6&Ol))throw Error(o(327));Ic();var t=dt(e,0);if(0===(1&t))return cc(e,Xe()),null;var n=Cc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=hc(e,r))}if(1===n)throw n=Bl,vc(e,0),fc(e,t),cc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Kl,Ql),cc(e,Xe()),null}function gc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Yl=Xe()+500,Hi&&$i())}}function mc(e){null!==ec&&0===ec.tag&&0===(6&Ol)&&Ic();var t=Ol;Ol|=1;var n=Al.transition,r=_t;try{if(Al.transition=null,_t=1,e)return e()}finally{_t=r,Al.transition=n,0===(6&(Ol=t))&&$i()}}function yc(){Fl=Ul.current,Ni(Ul)}function vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,li(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(so(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Fi();break;case 3:ns(),Ni(Ai),Ni(Di),ls();break;case 5:is(r);break;case 4:ns();break;case 13:case 19:Ni(os);break;case 10:Ao(r.type._context);break;case 22:case 23:yc()}n=n.return}if(Ll=e,Ml=e=Uc(e.current,null),jl=Fl=t,zl=0,Bl=null,Hl=Wl=ql=0,Kl=Vl=null,null!==jo){for(t=0;t<jo.length;t++)if(null!==(r=(n=jo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}jo=null}return e}function _c(e,t){for(;;){var n=Ml;try{if(Do(),cs.current=ra,gs){for(var r=ds.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}gs=!1}if(hs=0,ps=fs=ds=null,ms=!1,ys=0,Dl.current=null,null===n||null===n.return){zl=1,Bl=t,Ml=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Ca(a);if(null!==p){p.flags&=-257,Sa(p,a,l,0,t),1&p.mode&&wa(s,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){wa(s,u,t),wc();break e}c=Error(o(426))}else if(co&&1&l.mode){var y=Ca(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Sa(y,a,l,0,t),bo(ga(c,l));break e}}s=c=ga(c,l),4!==zl&&(zl=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,$o(s,_a(0,c,t));break e;case 1:l=c;var v=s.type,_=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Jl||!Jl.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t,$o(s,ba(s,l,t));break e}}s=s.return}while(null!==s)}Tc(n)}catch(dr){t=dr,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function bc(){var e=Rl.current;return Rl.current=ra,null===e?ra:e}function wc(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===Ll||0===(268435455&ql)&&0===(268435455&Wl)||fc(Ll,jl)}function Cc(e,t){var n=Ol;Ol|=2;var r=bc();for(Ll===e&&jl===t||(Ql=null,vc(e,t));;)try{Sc();break}catch(i){_c(e,i)}if(Do(),Ol=n,Rl.current=r,null!==Ml)throw Error(o(261));return Ll=null,jl=0,zl}function Sc(){for(;null!==Ml;)Ec(Ml)}function kc(){for(;null!==Ml&&!Qe();)Ec(Ml)}function Ec(e){var t=Nl(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?Tc(e):Ml=t,Dl.current=null}function Tc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Za(n,t,Fl)))return void(Ml=n)}else{if(null!==(n=el(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return zl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===zl&&(zl=5)}function xc(e,t,n){var r=_t,i=Al.transition;try{Al.transition=null,_t=1,function(e,t,n,r){do{Ic()}while(null!==ec);if(0!==(6&Ol))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Ll&&(Ml=Ll=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zl||(Zl=!0,Lc(tt,function(){return Ic(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Al.transition,Al.transition=null;var a=_t;_t=1;var l=Ol;Ol|=4,Dl.current=null,function(e,t){if(ii=Ht,yr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(Li){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(oi={focusedElem:e,selectionRange:n},Ht=!1,il=t;null!==il;)if(e=(t=il).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,il=e;else for(;null!==il;){t=il;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:la(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(Li){Pc(t,t.return,Li)}if(null!==(e=t.sibling)){e.return=t.return,il=e;break}il=t.return}g=al,al=!1}(e,n),Cl(n,e),vr(oi),Ht=!!ii,oi=ii=null,e.current=n,kl(n,e,i),Ge(),Ol=l,_t=a,Al.transition=s}else e.current=n;if(Zl&&(Zl=!1,ec=e,tc=i),s=e.pendingLanes,0===s&&(Jl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),cc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Xl,Xl=null,e;0!==(1&tc)&&0!==e.tag&&Ic(),s=e.pendingLanes,0!==(1&s)?e===rc?nc++:(nc=0,rc=e):nc=0,$i()}(e,t,n,r)}finally{Al.transition=i,_t=r}return null}function Ic(){if(null!==ec){var e=bt(tc),t=Al.transition,n=_t;try{if(Al.transition=null,_t=16>e?16:e,null===ec)var r=!1;else{if(e=ec,ec=null,tc=0,0!==(6&Ol))throw Error(o(331));var i=Ol;for(Ol|=4,il=e.current;null!==il;){var s=il,a=s.child;if(0!==(16&il.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(il=u;null!==il;){var h=il;switch(h.tag){case 0:case 11:case 15:ll(8,h,s)}var d=h.child;if(null!==d)d.return=h,il=d;else for(;null!==il;){var f=(h=il).sibling,p=h.return;if(hl(h),h===u){il=null;break}if(null!==f){f.return=p,il=f;break}il=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}il=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,il=a;else e:for(;null!==il;){if(0!==(2048&(s=il).flags))switch(s.tag){case 0:case 11:case 15:ll(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,il=v;break e}il=s.return}}var _=e.current;for(il=_;null!==il;){var b=(a=il).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,il=b;else e:for(a=_;null!==il;){if(0!==(2048&(l=il).flags))try{switch(l.tag){case 0:case 11:case 15:cl(9,l)}}catch(dr){Pc(l,l.return,dr)}if(l===a){il=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,il=w;break e}il=l.return}}if(Ol=i,$i(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(dr){}r=!0}return r}finally{_t=n,Al.transition=t}}return!1}function Nc(e,t,n){e=Vo(e,t=_a(0,t=ga(n,t),1),1),t=sc(),null!==e&&(yt(e,1,t),cc(e,t))}function Pc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Jl||!Jl.has(r))){t=Vo(t,e=ba(t,e=ga(n,e),1),1),e=sc(),null!==t&&(yt(t,1,e),cc(t,e));break}}t=t.return}}function Rc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=sc(),e.pingedLanes|=e.suspendedLanes&n,Ll===e&&(jl&n)===n&&(4===zl||3===zl&&(130023424&jl)===jl&&500>Xe()-$l?vc(e,0):Hl|=n),cc(e,t)}function Dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=sc();null!==(e=zo(e,t))&&(yt(e,t,n),cc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Dc(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Dc(e,n)}function Lc(e,t){return $e(e,t)}function Mc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Mc(e,t,n,r)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Fc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Bc(n.children,i,s,t);case k:a=8,i|=8;break;case E:return(e=jc(12,n,t,2|i)).elementType=E,e.lanes=s,e;case N:return(e=jc(13,n,t,i)).elementType=N,e.lanes=s,e;case P:return(e=jc(19,n,t,i)).elementType=P,e.lanes=s,e;case A:return qc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case x:a=9;break e;case I:a=11;break e;case R:a=14;break e;case D:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=jc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Bc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function qc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Wc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Hc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kc(e,t,n,r,i,o,s,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=jc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qo(o),e}function $c(e){if(!e)return Ri;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ji(n))return zi(e,n,t)}return t}function Yc(e,t,n,r,i,o,s,a,l){return(e=Kc(n,r,!0,e,0,o,0,a,l)).context=$c(null),n=e.current,(o=Ho(r=sc(),i=ac(n))).callback=void 0!==t&&null!==t?t:null,Vo(n,o,i),e.current.lanes=i,yt(e,i,r),cc(e,r),e}function Qc(e,t,n,r){var i=t.current,o=sc(),s=ac(i);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ho(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vo(i,t,s))&&(lc(e,i,s,o),Ko(e,i,s)),s}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Jc(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)Ea=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ea=!1,function(e,t,n){switch(t.tag){case 3:La(t),_o();break;case 5:rs(t);break;case 1:ji(t.type)&&Bi(t);break;case 4:ts(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pi(Io,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pi(os,1&os.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Wa(e,t,n):(Pi(os,1&os.current),null!==(e=Ga(e,t,n))?e.sibling:null);Pi(os,1&os.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ya(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pi(os,os.current),r)break;return null;case 22:case 23:return t.lanes=0,Pa(e,t,n)}return Ga(e,t,n)}(e,t,n);Ea=0!==(131072&e.flags)}else Ea=!1,co&&0!==(1048576&t.flags)&&io(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qa(e,t),e=t.pendingProps;var i=Mi(t,Di.current);Lo(t,n),i=ws(null,t,r,e,i,n);var s=Cs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(s=!0,Bi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,qo(t),i.updater=ua,t.stateNode=i,i._reactInternals=t,pa(t,r,e,n),t=Oa(null,t,r,!0,s,n)):(t.tag=0,co&&s&&oo(t),Ta(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=la(r,e),i){case 0:t=Da(null,t,r,e,n);break e;case 1:t=Aa(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=Ia(null,t,r,la(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:la(r,i),n);case 1:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:la(r,i),n);case 3:e:{if(La(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Wo(e,t),Yo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ma(e,t,r,n,i=ga(Error(o(423)),t));break e}if(r!==i){t=Ma(e,t,r,n,i=ga(Error(o(424)),t));break e}for(lo=fi(t.stateNode.containerInfo.firstChild),ao=t,co=!0,uo=null,n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_o(),r===i){t=Ga(e,t,n);break e}Ta(e,t,r,n)}t=t.child}return t;case 5:return rs(t),null===e&&go(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,si(r,i)?a=null:null!==s&&si(r,s)&&(t.flags|=32),Ra(e,t),Ta(e,t,a,n),t.child;case 6:return null===e&&go(t),null;case 13:return Wa(e,t,n);case 4:return ts(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=To(t,null,r,n):Ta(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:la(r,i),n);case 7:return Ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ta(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Pi(Io,r._currentValue),r._currentValue=a,null!==s)if(ur(s.value,a)){if(s.children===i.children&&!Ai.current){t=Ga(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Ho(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Oo(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Oo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ta(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Lo(t,n),r=r(i=Mo(i)),t.flags|=1,Ta(e,t,r,n),t.child;case 14:return i=la(r=t.type,t.pendingProps),Ia(e,t,r,i=la(r.type,i),n);case 15:return Na(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:la(r,i),Qa(e,t),t.tag=1,ji(r)?(e=!0,Bi(t)):e=!1,Lo(t,n),da(t,r,i),pa(t,r,i,n),Oa(null,t,r,!0,e,n);case 19:return Ya(e,t,n);case 22:return Pa(e,t,n)}throw Error(o(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function eu(e){this._internalRoot=e}function tu(e){this._internalRoot=e}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ru(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function iu(){}function ou(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Gc(s);a.call(e)}}Qc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Gc(s);o.call(e)}}var s=Yc(t,r,e,0,null,!1,0,"",iu);return e._reactRootContainer=s,e[vi]=s.current,Kr(8===e.nodeType?e.parentNode:e),mc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Gc(l);a.call(e)}}var l=Kc(e,0,!1,null,0,!1,0,"",iu);return e._reactRootContainer=l,e[vi]=l.current,Kr(8===e.nodeType?e.parentNode:e),mc(function(){Qc(t,l,n,r)}),l}(n,t,e,i,r);return Gc(s)}tu.prototype.render=eu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Qc(e,t,null,null)},tu.prototype.unmount=eu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mc(function(){Qc(null,e,null,null)}),t[vi]=null}},tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),cc(t,Xe()),0===(6&Ol)&&(Yl=Xe()+500,$i()))}break;case 13:mc(function(){var t=zo(e,1);if(null!==t){var n=sc();lc(t,e,1,n)}}),Jc(e,1)}},Ct=function(e){if(13===e.tag){var t=zo(e,134217728);if(null!==t)lc(t,e,134217728,sc());Jc(e,134217728)}},St=function(e){if(13===e.tag){var t=ac(e),n=zo(e,t);if(null!==n)lc(n,e,t,sc());Jc(e,t)}},kt=function(){return _t},Et=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Ce=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));$(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=gc,Ne=mc;var su={usingClientEntryPoint:!1,Events:[Si,ki,Ei,Te,xe,gc]},au={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lu={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{it=cu.inject(lu),ot=cu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=su,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!nu(e))throw Error(o(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Kc(e,1,!1,null,0,n,0,r,i),e[vi]=t.current,Kr(8===e.nodeType?e.parentNode:e),new eu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return mc(e)},t.hydrate=function(e,t,n){if(!ru(t))throw Error(o(200));return ou(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!nu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Yc(t,null,e,1,null!=n?n:null,i,0,s,a),e[vi]=t.current,Kr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new tu(t)},t.render=function(e,t,n){if(!ru(t))throw Error(o(200));return ou(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ru(e))throw Error(o(40));return!!e._reactRootContainer&&(mc(function(){ou(null,null,e,!1,function(){e._reactRootContainer=null,e[vi]=null})}),!0)},t.unstable_batchedUpdates=gc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ru(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ou(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),o=n.t(i,2),s=n(391),a=n(950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,l=r.Pop,d=null,m=y();function y(){return(a.state||{idx:null}).idx}function v(){l=r.Pop;let e=y(),t=null==e?null:e-m;m=e,d&&d({action:l,location:b.location,delta:t})}function _(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,a.replaceState(c({},a.state,{idx:m}),""));let b={get action(){return l},get location(){return e(o,a)},listen(e){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(u,v),d=e,()=>{o.removeEventListener(u,v),d=null}},createHref:e=>t(o,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(b.location,e,t);n&&n(i,e),m=y()+1;let c=f(i,m),u=b.createHref(i);try{a.pushState(c,"",u)}catch(Al){if(Al instanceof DOMException&&"DataCloneError"===Al.name)throw Al;o.location.assign(u)}s&&d&&d({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(b.location,e,t);n&&n(i,e),m=y();let o=f(i,m),c=b.createHref(i);a.replaceState(o,"",c),s&&d&&d({action:l,location:b.location,delta:0})},go:e=>a.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function _(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=O(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let o=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=A(i);s=R(o[a],e,r)}return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(h(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=U([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:P(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of C(e.path))i(e,t,r);else i(e,t)}),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=C(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const S=/^:[\w-]+$/,k=3,E=2,T=1,x=10,I=-2,N=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=I),t&&(r+=E),n.filter(e=>!N(e)).reduce((e,t)=>e+(S.test(t)?k:""===t?T:x),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:U([o,u.pathname]),pathnameBase:z(U([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=U([o,u.pathnameBase]))}return s}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(Al){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Al+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function j(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),h(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:B(r),hash:q(i)}}(i,o),u=a&&"/"!==a&&a.endsWith("/"),d=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const $=i.createContext(null);const Y=i.createContext(null);const Q=i.createContext(null);const G=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(G)}function ee(){return Z()||h(!1),i.useContext(G).location}function te(e){i.useContext(Q).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=de(ue.UseNavigateStable),t=pe(he.UseNavigateStable),n=i.useRef(!1);te(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))},[e,t]);return r}():function(){Z()||h(!1);let e=i.useContext($),{basename:t,future:n,navigator:r}=i.useContext(Q),{matches:o}=i.useContext(X),{pathname:s}=ee(),a=JSON.stringify(j(o,n.v7_relativeSplatPath)),l=i.useRef(!1);te(()=>{l.current=!0});let c=i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=F(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:U([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[t,r,a,s,e]);return c}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Q),{matches:o}=i.useContext(X),{pathname:s}=ee(),a=JSON.stringify(j(o,r.v7_relativeSplatPath));return i.useMemo(()=>F(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}function ie(e,t,n,o){Z()||h(!1);let{navigator:s}=i.useContext(Q),{matches:a}=i.useContext(X),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=ee();if(t){var p;let e="string"===typeof t?m(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let g=d.pathname||"/",y=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=_(e,{pathname:y});let b=ce(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:U([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,o);return t&&b?i.createElement(G.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},b):b}function oe(){let e=function(){var e;let t=i.useContext(J),n=fe(he.UseRouteError),r=pe(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const se=i.createElement(oe,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext($);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ce(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((e,r,o)=>{let s,h=!1,d=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||se,c&&(u<0&&0===o?(p="route-fallback",!1||ge[p]||(ge[p]=!0),h=!0,f=null):u===o&&(h=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,o+1)),m=()=>{let t;return t=s?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function de(e){let t=i.useContext($);return t||h(!1),t}function fe(e){let t=i.useContext(Y);return t||h(!1),t}function pe(e){let t=function(){let e=i.useContext(X);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const ge={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:o}=e;Z()||h(!1);let{future:s,static:a}=i.useContext(Q),{matches:l}=i.useContext(X),{pathname:c}=ee(),u=ne(),d=F(t,j(l,s.v7_relativeSplatPath),c,"path"===o),f=JSON.stringify(d);return i.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:o}),[u,f,o,n,r]),null}function ve(e){h(!1)}function _e(e){let{basename:t="/",children:n=null,location:o,navigationType:s=r.Pop,navigator:a,static:l=!1,future:c}=e;Z()&&h(!1);let u=t.replace(/^\/*/,"/"),d=i.useMemo(()=>({basename:u,navigator:a,static:l,future:K({v7_relativeSplatPath:!1},c)}),[u,c,a,l]);"string"===typeof o&&(o=m(o));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=o,_=i.useMemo(()=>{let e=O(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:v},navigationType:s}},[u,f,p,g,y,v,s]);return null==_?null:i.createElement(Q.Provider,{value:d},i.createElement(G.Provider,{children:n,value:_}))}function be(e){let{children:t,location:n}=e;return ie(we(t),n)}new Promise(()=>{});i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,o));e.type!==ve&&h(!1),e.props.index&&e.props.children&&h(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=we(e.props.children,o)),n.push(s)}),n}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Um){}new Map;const Ee=o.startTransition;l.flushSync,o.useId;function Te(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),y(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=m(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:g(t))},function(e,t){d("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},a)));let l=s.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},f=i.useCallback(e=>{h&&Ee?Ee(()=>u(e)):u(e)},[u,h]);return i.useLayoutEffect(()=>l.listen(f),[l,f]),i.useEffect(()=>me(r),[r]),i.createElement(_e,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=i.forwardRef(function(e,t){let n,{onClick:r,relative:o,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=Se(e,ke),{basename:m}=i.useContext(Q),y=!1;if("string"===typeof u&&Ie.test(u)&&(n=u,xe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(Um){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||h(!1);let{basename:r,navigator:o}=i.useContext(Q),{hash:s,pathname:a,search:l}=re(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:U([r,a])),o.createHref({pathname:c,search:l,hash:s})}(u,{relative:o}),_=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),h=re(e,{relative:a});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(h);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,h,r,o,n,e,s,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:o,viewTransition:f});return i.createElement("a",Ce({},p,{href:n||v,onClick:y||s?r:function(e){r&&r(e),e.defaultPrevented||_(e)},ref:t,target:c}))});var Pe,Re;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Ae(e){var t=function(e,t){if("object"!=De(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==De(t)?t:t+""}function Oe(e,t,n){return(t=Ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach(function(t){Oe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const je=!1,Fe=!1,Ue="${JSCORE_VERSION}",ze=function(e,t){if(!e)throw Be(t)},Be=function(e){return new Error("Firebase Database ("+Ue+") INTERNAL ASSERT FAILED: "+e)},qe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},We={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new He;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class He extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(e){const t=qe(e);return We.encodeByteArray(t,!0)},Ke=function(e){return Ve(e).replace(/\./g,"")},$e=function(e){try{return We.decodeString(e,!0)}catch(Um){console.error("base64Decode failed: ",Um)}return null};function Ye(e){return Qe(void 0,e)}function Qe(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Ge(n)&&(e[n]=Qe(e[n],t[n]));return e}function Ge(e){return"__proto__"!==e}const Xe=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Je=()=>{try{return Xe()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Um){return}const t=e&&$e(e[1]);return t&&JSON.parse(t)})()}catch(Um){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Um))}},Ze=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Je())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},et=()=>{var e;return null===(e=Je())||void 0===e?void 0:e.config};class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function nt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ke(JSON.stringify({alg:"none",type:"JWT"})),Ke(JSON.stringify(o)),""].join(".")}function rt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function it(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function ot(){return!0===je||!0===Fe}function st(){try{return"object"===typeof indexedDB}catch(Um){return!1}}function at(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Al){t(Al)}})}class lt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ct.prototype.create)}}class ct{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ut,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new lt(n,o,t)}}const ut=/\{\$([^}]+)}/g;function ht(e){return JSON.parse(e)}function dt(e){return JSON.stringify(e)}const ft=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=ht($e(o[0])||""),n=ht($e(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(Um){}return{header:t,claims:n,data:r,signature:i}};function pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function mt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function yt(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function vt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(_t(n)&&_t(o)){if(!vt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _t(e){return null!==e&&"object"===typeof e}class bt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function wt(e,t){return"".concat(e," failed: ").concat(t," argument ")}const Ct=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function St(e){return e&&e._delegate?e._delegate:e}class kt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Et="[DEFAULT]";class Tt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new tt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Um){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Um){if(r)return null;throw Um}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Et})}catch(Um){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Um){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Et?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;return this.component?this.component.multipleInstances?e:Et:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Tt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const It=[];var Nt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Nt||(Nt={}));const Pt={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},Rt=Nt.INFO,Dt={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},At=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Dt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Ot{constructor(e){this.name=e,this._logLevel=Rt,this._logHandler=At,this._userLogHandler=null,It.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Pt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}let Lt,Mt;const jt=new WeakMap,Ft=new WeakMap,Ut=new WeakMap,zt=new WeakMap,Bt=new WeakMap;let qt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ft.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ut.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Wt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Mt||(Mt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Kt(this),n),Vt(jt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vt(e.apply(Kt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Kt(this),t,...r);return Ut.set(o,t.sort?t.sort():[t]),Vt(o)}}function Ht(e){return"function"===typeof e?Wt(e):(e instanceof IDBTransaction&&function(e){if(Ft.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Ft.set(e,t)}(e),t=e,(Lt||(Lt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,qt):e);var t}function Vt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Vt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&jt.set(t,e)}).catch(()=>{}),Bt.set(t,e),t}(e);if(zt.has(e))return zt.get(e);const t=Ht(e);return t!==e&&(zt.set(e,t),Bt.set(t,e)),t}const Kt=e=>Bt.get(e);const $t=["get","getKey","getAll","getAllKeys","count"],Yt=["put","add","delete","clear"],Qt=new Map;function Gt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Qt.get(t))return Qt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Yt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!$t.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Qt.set(t,o),o}qt=(e=>Me(Me({},e),{},{get:(t,n,r)=>Gt(t,n)||e.get(t,n,r),has:(t,n)=>!!Gt(t,n)||e.has(t,n)}))(qt);class Xt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Jt="@firebase/app",Zt="0.9.13",en=new Ot("@firebase/app"),tn="@firebase/app-compat",nn="@firebase/analytics-compat",rn="@firebase/analytics",on="@firebase/app-check-compat",sn="@firebase/app-check",an="@firebase/auth",ln="@firebase/auth-compat",cn="@firebase/database",un="@firebase/database-compat",hn="@firebase/functions",dn="@firebase/functions-compat",fn="@firebase/installations",pn="@firebase/installations-compat",gn="@firebase/messaging",mn="@firebase/messaging-compat",yn="@firebase/performance",vn="@firebase/performance-compat",_n="@firebase/remote-config",bn="@firebase/remote-config-compat",wn="@firebase/storage",Cn="@firebase/storage-compat",Sn="@firebase/firestore",kn="@firebase/firestore-compat",En="firebase",Tn="[DEFAULT]",xn={[Jt]:"fire-core",[tn]:"fire-core-compat",[rn]:"fire-analytics",[nn]:"fire-analytics-compat",[sn]:"fire-app-check",[on]:"fire-app-check-compat",[an]:"fire-auth",[ln]:"fire-auth-compat",[cn]:"fire-rtdb",[un]:"fire-rtdb-compat",[hn]:"fire-fn",[dn]:"fire-fn-compat",[fn]:"fire-iid",[pn]:"fire-iid-compat",[gn]:"fire-fcm",[mn]:"fire-fcm-compat",[yn]:"fire-perf",[vn]:"fire-perf-compat",[_n]:"fire-rc",[bn]:"fire-rc-compat",[wn]:"fire-gcs",[Cn]:"fire-gcs-compat",[Sn]:"fire-fst",[kn]:"fire-fst-compat","fire-js":"fire-js",[En]:"fire-js-all"},In=new Map,Nn=new Map;function Pn(e,t){try{e.container.addComponent(t)}catch(Um){en.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Um)}}function Rn(e){const t=e.name;if(Nn.has(t))return en.debug("There were multiple attempts to register component ".concat(t,".")),!1;Nn.set(t,e);for(const n of In.values())Pn(n,e);return!0}function Dn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const An=new ct("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class On{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const Ln="9.23.0";function Mn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=et()),!n)throw An.create("no-options");const o=In.get(i);if(o){if(vt(n,o.options)&&vt(r,o.config))return o;throw An.create("duplicate-app",{appName:i})}const s=new xt(i);for(const l of Nn.values())s.addComponent(l);const a=new On(n,r,s);return In.set(i,a),a}function jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn;const t=In.get(e);if(!t&&e===Tn&&et())return Mn();if(!t)throw An.create("no-app",{appName:e});return t}function Fn(e,t,n){var r;let i=null!==(r=xn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void en.warn(e.join(" "))}Rn(new kt("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Un="firebase-heartbeat-store";let zn=null;function Bn(){return zn||(zn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Vt(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Vt(s.result),e.oldVersion,e.newVersion,Vt(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Un)}}).catch(e=>{throw An.create("idb-open",{originalErrorMessage:e.message})})),zn}async function qn(e,t){try{const n=(await Bn()).transaction(Un,"readwrite"),r=n.objectStore(Un);await r.put(t,Wn(e)),await n.done}catch(Um){if(Um instanceof lt)en.warn(Um.message);else{const t=An.create("idb-set",{originalErrorMessage:null===Um||void 0===Um?void 0:Um.message});en.warn(t.message)}}}function Wn(e){return"".concat(e.name,"!").concat(e.options.appId)}class Hn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Kn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Vn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Vn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),$n(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$n(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ke(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Vn(){return(new Date).toISOString().substring(0,10)}class Kn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!st()&&at().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Bn();return await t.transaction(Un).objectStore(Un).get(Wn(e))}catch(Um){if(Um instanceof lt)en.warn(Um.message);else{const t=An.create("idb-get",{originalErrorMessage:null===Um||void 0===Um?void 0:Um.message});en.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return qn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return qn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function $n(e){return Ke(JSON.stringify({version:2,heartbeats:e})).length}var Yn;Yn="",Rn(new kt("platform-logger",e=>new Xt(e),"PRIVATE")),Rn(new kt("heartbeat",e=>new Hn(e),"PRIVATE")),Fn(Jt,Zt,Yn),Fn(Jt,Zt,"esm2017"),Fn("fire-js","");Fn("firebase","9.23.0","app");var Qn,Gn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Xn={},Jn=Jn||{},Zn=Gn||self;function er(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function tr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var nr="closure_uid_"+(1e9*Math.random()>>>0),rr=0;function ir(e,t,n){return e.call.apply(e.bind,arguments)}function or(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function sr(e,t,n){return(sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ir:or).apply(null,arguments)}function ar(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function lr(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function cr(){this.s=this.s,this.o=this.o}cr.prototype.s=!1,cr.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,nr)&&e[nr]||(e[nr]=++rr))},cr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ur=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function hr(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function dr(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(er(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function fr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}fr.prototype.h=function(){this.defaultPrevented=!0};var pr=function(){if(!Zn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Zn.addEventListener("test",()=>{},t),Zn.removeEventListener("test",()=>{},t)}catch(n){}return e}();function gr(e){return/^[\s\xa0]*$/.test(e)}function mr(){var e=Zn.navigator;return e&&(e=e.userAgent)?e:""}function yr(e){return-1!=mr().indexOf(e)}function vr(e){return vr[" "](e),e}vr[" "]=function(){};var _r,br,wr=yr("Opera"),Cr=yr("Trident")||yr("MSIE"),Sr=yr("Edge"),kr=Sr||Cr,Er=yr("Gecko")&&!(-1!=mr().toLowerCase().indexOf("webkit")&&!yr("Edge"))&&!(yr("Trident")||yr("MSIE"))&&!yr("Edge"),Tr=-1!=mr().toLowerCase().indexOf("webkit")&&!yr("Edge");function xr(){var e=Zn.document;return e?e.documentMode:void 0}e:{var Ir="",Nr=function(){var e=mr();return Er?/rv:([^\);]+)(\)|;)/.exec(e):Sr?/Edge\/([\d\.]+)/.exec(e):Cr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Tr?/WebKit\/(\S+)/.exec(e):wr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Nr&&(Ir=Nr?Nr[1]:""),Cr){var Pr=xr();if(null!=Pr&&Pr>parseFloat(Ir)){_r=String(Pr);break e}}_r=Ir}if(Zn.document&&Cr){var Rr=xr();br=Rr||(parseInt(_r,10)||void 0)}else br=void 0;var Dr=br;function Ar(e,t){if(fr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Er){e:{try{vr(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Or[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ar.$.h.call(this)}}lr(Ar,fr);var Or={2:"touch",3:"pen",4:"mouse"};Ar.prototype.h=function(){Ar.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Lr="closure_listenable_"+(1e6*Math.random()|0),Mr=0;function jr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Mr,this.fa=this.ia=!1}function Fr(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ur(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function zr(e){const t={};for(const n in e)t[n]=e[n];return t}const Br="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qr(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Br.length;t++)n=Br[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Wr(e){this.src=e,this.g={},this.h=0}function Hr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ur(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Fr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Vr(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Wr.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Vr(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new jr(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Kr="closure_lm_"+(1e6*Math.random()|0),$r={};function Yr(e,t,n,r,i){if(r&&r.once)return Gr(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Yr(e,t[o],n,r,i);return null}return n=ri(n),e&&e[Lr]?e.O(t,n,tr(r)?!!r.capture:!!r,i):Qr(e,t,n,!1,r,i)}function Qr(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=tr(i)?!!i.capture:!!i,a=ti(e);if(a||(e[Kr]=a=new Wr(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ei;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)pr||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Gr(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Gr(e,t[o],n,r,i);return null}return n=ri(n),e&&e[Lr]?e.P(t,n,tr(r)?!!r.capture:!!r,i):Qr(e,t,n,!0,r,i)}function Xr(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Xr(e,t[o],n,r,i);else r=tr(r)?!!r.capture:!!r,n=ri(n),e&&e[Lr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Vr(o=e.g[t],n,r,i))&&(Fr(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=ti(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Vr(t,n,r,i)),(n=-1<e?t[e]:null)&&Jr(n))}function Jr(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Lr])Hr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ti(t))?(Hr(n,e),0==n.h&&(n.src=null,t[Kr]=null)):Fr(e)}}}function Zr(e){return e in $r?$r[e]:$r[e]="on"+e}function ei(e,t){if(e.fa)e=!0;else{t=new Ar(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Jr(e),e=n.call(r,t)}return e}function ti(e){return(e=e[Kr])instanceof Wr?e:null}var ni="__closure_events_fn_"+(1e9*Math.random()>>>0);function ri(e){return"function"===typeof e?e:(e[ni]||(e[ni]=function(t){return e.handleEvent(t)}),e[ni])}function ii(){cr.call(this),this.i=new Wr(this),this.S=this,this.J=null}function oi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new fr(t,e);else if(t instanceof fr)t.target=t.target||e;else{var i=t;qr(t=new fr(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=si(s,r,!0,t)&&i}if(i=si(s=t.g=e,r,!0,t)&&i,i=si(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=si(s=t.g=n[o],r,!1,t)&&i}function si(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Hr(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}lr(ii,cr),ii.prototype[Lr]=!0,ii.prototype.removeEventListener=function(e,t,n,r){Xr(this,e,t,n,r)},ii.prototype.N=function(){if(ii.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Fr(n[r]);delete t.g[e],t.h--}}this.J=null},ii.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ii.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ai=Zn.JSON.stringify;function li(){var e=gi;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ci=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ui,e=>e.reset());class ui{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hi(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function di(e){Zn.setTimeout(()=>{throw e},0)}let fi,pi=!1,gi=new class{constructor(){this.h=this.g=null}add(e,t){const n=ci.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},mi=()=>{const e=Zn.Promise.resolve(void 0);fi=()=>{e.then(yi)}};var yi=()=>{for(var e;e=li();){try{e.h.call(e.g)}catch(n){di(n)}var t=ci;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}pi=!1};function vi(e,t){ii.call(this),this.h=e||1,this.g=t||Zn,this.j=sr(this.qb,this),this.l=Date.now()}function _i(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function bi(e,t,n){if("function"===typeof e)n&&(e=sr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=sr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Zn.setTimeout(e,t||0)}function wi(e){e.g=bi(()=>{e.g=null,e.i&&(e.i=!1,wi(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}lr(vi,ii),(Qn=vi.prototype).ga=!1,Qn.T=null,Qn.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oi(this,"tick"),this.ga&&(_i(this),this.start()))}},Qn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qn.N=function(){vi.$.N.call(this),_i(this),delete this.g};class Ci extends cr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wi(this)}N(){super.N(),this.g&&(Zn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(e){cr.call(this),this.h=e,this.g={}}lr(Si,cr);var ki=[];function Ei(e,t,n,r){Array.isArray(n)||(n&&(ki[0]=n.toString()),n=ki);for(var i=0;i<n.length;i++){var o=Yr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ti(e){Ur(e.g,function(e,t){this.g.hasOwnProperty(t)&&Jr(e)},e),e.g={}}function xi(){this.g=!0}function Ii(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ai(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Si.prototype.N=function(){Si.$.N.call(this),Ti(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xi.prototype.Ea=function(){this.g=!1},xi.prototype.info=function(){};var Ni={},Pi=null;function Ri(){return Pi=Pi||new ii}function Di(e){fr.call(this,Ni.Ta,e)}function Ai(e){const t=Ri();oi(t,new Di(t))}function Oi(e,t){fr.call(this,Ni.STAT_EVENT,e),this.stat=t}function Li(e){const t=Ri();oi(t,new Oi(t,e))}function Mi(e,t){fr.call(this,Ni.Ua,e),this.size=t}function ji(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Zn.setTimeout(function(){e()},t)}Ni.Ta="serverreachability",lr(Di,fr),Ni.STAT_EVENT="statevent",lr(Oi,fr),Ni.Ua="timingevent",lr(Mi,fr);var Fi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ui={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zi(){}function Bi(e){return e.h||(e.h=e.i())}function qi(){}zi.prototype.h=null;var Wi,Hi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vi(){fr.call(this,"d")}function Ki(){fr.call(this,"c")}function $i(){}function Yi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Si(this),this.P=Gi,e=kr?125:void 0,this.V=new vi(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Qi}function Qi(){this.i=null,this.g="",this.h=!1}lr(Vi,fr),lr(Ki,fr),lr($i,zi),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},Wi=new $i;var Gi=45e3,Xi={},Ji={};function Zi(e,t,n){e.L=1,e.v=_o(po(t)),e.s=n,e.S=!0,eo(e,null)}function eo(e,t){e.G=Date.now(),io(e),e.A=po(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Do(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Qi,e.g=As(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ci(sr(e.Pa,e,e.g),e.O)),Ei(e.U,e.g,"readystatechange",e.nb),t=e.I?zr(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ai(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.u,e.A,e.m,e.W,e.s)}function to(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function no(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=ro(e,n),r==Ji){4==t&&(e.o=4,Li(14),i=!1),Ii(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xi){e.o=4,Li(15),Ii(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ii(e.j,e.m,r,null),co(e,r)}to(e)&&r!=Ji&&r!=Xi&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Li(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Es(t),t.M=!0,Li(11))):(Ii(e.j,e.m,n,"[Invalid Chunked Response]"),lo(e),ao(e))}function ro(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ji:(n=Number(t.substring(n,r)),isNaN(n)?Xi:(r+=1)+n>t.length?Ji:(t=t.slice(r,r+n),e.C=r+n,t))}function io(e){e.Y=Date.now()+e.P,oo(e,e.P)}function oo(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ji(sr(e.lb,e),t)}function so(e){e.B&&(Zn.clearTimeout(e.B),e.B=null)}function ao(e){0==e.l.H||e.J||Is(e.l,e)}function lo(e){so(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,_i(e.V),Ti(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function co(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Uo(n.i,e)))if(!e.K&&Uo(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;xs(n),ys(n)}ks(n),Li(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ji(sr(n.ib,n),6e3));if(1>=Fo(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Ps(n,11)}else if((e.K||n.g==e)&&xs(n),!gr(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(zo(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,vo(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Ds(r,r.J?r.pa:null,r.Y),s.K){Bo(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(so(a),io(a)),r.g=s}else Ss(r);0<n.j.length&&_s(n)}else"stop"!=c[0]&&"close"!=c[0]||Ps(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ps(n,7):ms(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Ai()}catch(c){}}function uo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(er(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(er(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(er(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Qn=Yi.prototype).setTimeout=function(e){this.P=e},Qn.nb=function(e){e=e.target;const t=this.M;t&&3==us(e)?t.l():this.Pa(e)},Qn.Pa=function(e){try{if(e==this.g)e:{const u=us(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||kr||this.g&&(this.h.h||this.g.ja()||hs(this.g)))){this.J||4!=u||7==t||Ai(),so(this);var n=this.g.da();this.ca=n;t:if(to(this)){var r=hs(this.g);e="";var i=r.length,o=4==us(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){lo(this),ao(this);var s="";break t}this.h.i=new Zn.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gr(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Li(12),lo(this),ao(this);break e}Ii(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,co(this,n)}this.S?(no(this,u,s),kr&&this.i&&3==u&&(Ei(this.U,this.V,"tick",this.mb),this.V.start())):(Ii(this.j,this.m,s,null),co(this,s)),4==u&&lo(this),this.i&&!this.J&&(4==u?Is(this.l,this):(this.i=!1,io(this)))}else(function(e){const t={};e=(e.g&&2<=us(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(gr(e[r]))continue;var n=hi(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Li(12)):(this.o=0,Li(13)),lo(this),ao(this)}}}catch(u){}},Qn.mb=function(){if(this.g){var e=us(this.g),t=this.g.ja();this.C<t.length&&(so(this),no(this,e,t),this.i&&4!=e&&io(this))}},Qn.cancel=function(){this.J=!0,lo(this)},Qn.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Ai(),Li(17)),lo(this),this.o=2,ao(this)):oo(this,this.Y-e)};var ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fo(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof fo){this.h=e.h,go(this,e.j),this.s=e.s,this.g=e.g,mo(this,e.m),this.l=e.l;var t=e.i,n=new Io;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),yo(this,n),this.o=e.o}else e&&(t=String(e).match(ho))?(this.h=!1,go(this,t[1]||"",!0),this.s=bo(t[2]||""),this.g=bo(t[3]||"",!0),mo(this,t[4]),this.l=bo(t[5]||"",!0),yo(this,t[6]||"",!0),this.o=bo(t[7]||"")):(this.h=!1,this.i=new Io(null,this.h))}function po(e){return new fo(e)}function go(e,t,n){e.j=n?bo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function yo(e,t,n){t instanceof Io?(e.i=t,function(e,t){t&&!e.j&&(No(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Po(this,t),Do(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=wo(t,To)),e.i=new Io(t,e.h))}function vo(e,t,n){e.i.set(t,n)}function _o(e){return vo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function bo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function wo(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Co),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Co(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}fo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(wo(t,So,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(wo(t,So,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(wo(n,"/"==n.charAt(0)?Eo:ko,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",wo(n,xo)),e.join("")};var So=/[#\/\?@]/g,ko=/[#\?:]/g,Eo=/[#\?]/g,To=/[#\?@]/g,xo=/#/g;function Io(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function No(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Po(e,t){No(e),t=Ao(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ro(e,t){return No(e),t=Ao(e,t),e.g.has(t)}function Do(e,t,n){Po(e,t),0<n.length&&(e.i=null,e.g.set(Ao(e,t),hr(n)),e.h+=n.length)}function Ao(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Qn=Io.prototype).add=function(e,t){No(this),this.i=null,e=Ao(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Qn.forEach=function(e,t){No(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},Qn.ta=function(){No(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Qn.Z=function(e){No(this);let t=[];if("string"===typeof e)Ro(this,e)&&(t=t.concat(this.g.get(Ao(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Qn.set=function(e,t){return No(this),this.i=null,Ro(this,e=Ao(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Qn.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Qn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Oo=class{constructor(e,t){this.g=e,this.map=t}};function Lo(e){this.l=e||Mo,Zn.PerformanceNavigationTiming?e=0<(e=Zn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Zn.g&&Zn.g.Ka&&Zn.g.Ka()&&Zn.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mo=10;function jo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Fo(e){return e.h?1:e.g?e.g.size:0}function Uo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function zo(e,t){e.g?e.g.add(t):e.h=t}function Bo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function qo(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return hr(e.i)}Lo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Wo,Ho=class{stringify(e){return Zn.JSON.stringify(e,void 0)}parse(e){return Zn.JSON.parse(e,void 0)}};function Vo(){this.g=new Ho}function Ko(e,t,n){const r=n||"";try{uo(e,function(e,n){let i=e;tr(e)&&(i=ai(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(Um){throw t.push(r+"type="+encodeURIComponent("_badmap")),Um}}function $o(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Yo(e){this.l=e.fc||null,this.j=e.ob||!1}function Qo(e,t){ii.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Go,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lr(Yo,zi),Yo.prototype.g=function(){return new Qo(this.l,this.j)},Yo.prototype.i=(Wo={},function(){return Wo}),lr(Qo,ii);var Go=0;function Xo(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Jo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Zo(e)}function Zo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Qn=Qo.prototype).open=function(e,t){if(this.readyState!=Go)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Zo(this)},Qn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Zn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Qn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jo(this)),this.readyState=Go},Qn.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Zo(this)),this.g&&(this.readyState=3,Zo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Zn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xo(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Qn.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jo(this):Zo(this),3==this.readyState&&Xo(this)}},Qn.Za=function(e){this.g&&(this.response=this.responseText=e,Jo(this))},Qn.Ya=function(e){this.g&&(this.response=e,Jo(this))},Qn.ka=function(){this.g&&Jo(this)},Qn.setRequestHeader=function(e,t){this.v.append(e,t)},Qn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Qn.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Qo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var es=Zn.JSON.parse;function ts(e){ii.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ns,this.L=this.M=!1}lr(ts,ii);var ns="",rs=/^https?$/i,is=["POST","PUT"];function os(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ss(e),ls(e)}function ss(e){e.F||(e.F=!0,oi(e,"complete"),oi(e,"error"))}function as(e){if(e.h&&"undefined"!=typeof Jn&&(!e.C[1]||4!=us(e)||2!=e.da()))if(e.v&&4==us(e))bi(e.La,0,e);else if(oi(e,"readystatechange"),4==us(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(ho)[1]||null;!i&&Zn.self&&Zn.self.location&&(i=Zn.self.location.protocol.slice(0,-1)),r=!rs.test(i?i.toLowerCase():"")}n=r}if(n)oi(e,"complete"),oi(e,"success");else{e.m=6;try{var o=2<us(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",ss(e)}}finally{ls(e)}}}function ls(e,t){if(e.g){cs(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||oi(e,"ready");try{n.onreadystatechange=r}catch(Um){}}}function cs(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Zn.clearTimeout(e.A),e.A=null)}function us(e){return e.g?e.g.readyState:0}function hs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ns:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(sa){return null}}function ds(e){let t="";return Ur(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function fs(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ds(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):vo(e,t,n))}function ps(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gs(e){this.Ga=0,this.j=[],this.l=new xi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ps("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ps("baseRetryDelayMs",5e3,e),this.hb=ps("retryDelaySeedMs",1e4,e),this.eb=ps("forwardChannelMaxRetries",2,e),this.xa=ps("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Lo(e&&e.concurrentRequestLimit),this.Ja=new Vo,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ms(e){if(vs(e),3==e.H){var t=e.W++,n=po(e.I);if(vo(n,"SID",e.K),vo(n,"RID",t),vo(n,"TYPE","terminate"),ws(e,n),(t=new Yi(e,e.l,t)).L=2,t.v=_o(po(n)),n=!1,Zn.navigator&&Zn.navigator.sendBeacon)try{n=Zn.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Zn.Image&&((new Image).src=t.v,n=!0),n||(t.g=As(t.l,null),t.g.ha(t.v)),t.G=Date.now(),io(t)}Rs(e)}function ys(e){e.g&&(Es(e),e.g.cancel(),e.g=null)}function vs(e){ys(e),e.u&&(Zn.clearTimeout(e.u),e.u=null),xs(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Zn.clearTimeout(e.m),e.m=null)}function _s(e){if(!jo(e.i)&&!e.m){e.m=!0;var t=e.Na;fi||mi(),pi||(fi(),pi=!0),gi.add(t,e),e.C=0}}function bs(e,t){var n;n=t?t.m:e.W++;const r=po(e.I);vo(r,"SID",e.K),vo(r,"RID",n),vo(r,"AID",e.V),ws(e,r),e.o&&e.s&&fs(r,e.o,e.s),n=new Yi(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Cs(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),zo(e.i,n),Zi(n,r,t)}function ws(e,t){e.na&&Ur(e.na,function(e,n){vo(t,n,e)}),e.h&&uo({},function(e,n){vo(t,n,e)})}function Cs(e,t,n){n=Math.min(e.j.length,n);var r=e.h?sr(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Ko(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Ss(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;fi||mi(),pi||(fi(),pi=!0),gi.add(t,e),e.A=0}}function ks(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ji(sr(e.Ma,e),Ns(e,e.A)),e.A++,!0)}function Es(e){null!=e.B&&(Zn.clearTimeout(e.B),e.B=null)}function Ts(e){e.g=new Yi(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=po(e.wa);vo(t,"RID","rpc"),vo(t,"SID",e.K),vo(t,"AID",e.V),vo(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&vo(t,"TO",e.qa),vo(t,"TYPE","xmlhttp"),ws(e,t),e.o&&e.s&&fs(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=_o(po(t)),n.s=null,n.S=!0,eo(n,e)}function xs(e){null!=e.v&&(Zn.clearTimeout(e.v),e.v=null)}function Is(e,t){var n=null;if(e.g==t){xs(e),Es(e),e.g=null;var r=2}else{if(!Uo(e.i,t))return;n=t.F,Bo(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;oi(r=Ri(),new Mi(r,n)),_s(e)}else Ss(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Fo(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ji(sr(e.Na,e,t),Ns(e,e.C)),e.C++,!0))}(e,t)||2==r&&ks(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ps(e,5);break;case 4:Ps(e,10);break;case 3:Ps(e,6);break;default:Ps(e,2)}}function Ns(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ps(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=sr(e.pb,e);n||(n=new fo("//www.google.com/images/cleardot.gif"),Zn.location&&"http"==Zn.location.protocol||go(n,"https"),_o(n)),function(e,t){const n=new xi;if(Zn.Image){const r=new Image;r.onload=ar($o,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ar($o,n,r,"TestLoadImage: error",!1,t),r.onabort=ar($o,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ar($o,n,r,"TestLoadImage: timeout",!1,t),Zn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Li(2);e.H=0,e.h&&e.h.za(t),Rs(e),vs(e)}function Rs(e){if(e.H=0,e.ma=[],e.h){const t=qo(e.i);0==t.length&&0==e.j.length||(dr(e.ma,t),dr(e.ma,e.j),e.i.i.length=0,hr(e.j),e.j.length=0),e.h.ya()}}function Ds(e,t,n){var r=n instanceof fo?po(n):new fo(n);if(""!=r.g)t&&(r.g=t+"."+r.g),mo(r,r.m);else{var i=Zn.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new fo(null);r&&go(o,r),t&&(o.g=t),i&&mo(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&vo(r,n,t),vo(r,"VER",e.ra),ws(e,r),r}function As(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new ts(new Yo({ob:!0})):new ts(e.va)).Oa(e.J),t}function Os(){}function Ls(){if(Cr&&!(10<=Number(Dr)))throw Error("Environmental error: no available transport.")}function Ms(e,t){ii.call(this),this.g=new gs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!gr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!gr(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Us(this)}function js(e){Vi.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Fs(){Ki.call(this),this.status=1}function Us(e){this.g=e}function zs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Bs(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function qs(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Qn=ts.prototype).Oa=function(e){this.M=e},Qn.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wi.g(),this.C=this.u?Bi(this.u):Bi(Wi),this.g.onreadystatechange=sr(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void os(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=Zn.FormData&&e instanceof Zn.FormData,!(0<=ur(is,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cs(this),0<this.B&&((this.L=function(e){return Cr&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sr(this.ua,this)):this.A=bi(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){os(this,o)}},Qn.ua=function(){"undefined"!=typeof Jn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oi(this,"timeout"),this.abort(8))},Qn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,oi(this,"complete"),oi(this,"abort"),ls(this))},Qn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ls(this,!0)),ts.$.N.call(this)},Qn.La=function(){this.s||(this.G||this.v||this.l?as(this):this.kb())},Qn.kb=function(){as(this)},Qn.isActive=function(){return!!this.g},Qn.da=function(){try{return 2<us(this)?this.g.status:-1}catch(Wo){return-1}},Qn.ja=function(){try{return this.g?this.g.responseText:""}catch(Wo){return""}},Qn.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),es(t)}},Qn.Ia=function(){return this.m},Qn.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Qn=gs.prototype).ra=8,Qn.H=1,Qn.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Yi(this,this.l,e);let o=this.s;if(this.U&&(o?(o=zr(o),qr(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Cs(this,i,t),vo(n=po(this.I),"RID",e),vo(n,"CVER",22),this.F&&vo(n,"X-HTTP-Session-Id",this.F),ws(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(ds(o)))+"&"+t:this.o&&fs(n,this.o,o)),zo(this.i,i),this.bb&&vo(n,"TYPE","init"),this.P?(vo(n,"$req",t),vo(n,"SID","null"),i.aa=!0,Zi(i,n,null)):Zi(i,n,t),this.H=2}}else 3==this.H&&(e?bs(this,e):0==this.j.length||jo(this.i)||bs(this))},Qn.Ma=function(){if(this.u=null,Ts(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ji(sr(this.jb,this),e)}},Qn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Li(10),ys(this),Ts(this))},Qn.ib=function(){null!=this.v&&(this.v=null,ys(this),ks(this),Li(19))},Qn.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Li(2)):(this.l.info("Failed to ping google.com"),Li(1))},Qn.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qn=Os.prototype).Ba=function(){},Qn.Aa=function(){},Qn.za=function(){},Qn.ya=function(){},Qn.isActive=function(){return!0},Qn.Va=function(){},Ls.prototype.g=function(e,t){return new Ms(e,t)},lr(Ms,ii),Ms.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Li(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ds(e,null,e.Y),_s(e)},Ms.prototype.close=function(){ms(this.g)},Ms.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ai(e),e=n);t.j.push(new Oo(t.fb++,e)),3==t.H&&_s(t)},Ms.prototype.N=function(){this.g.h=null,delete this.j,ms(this.g),delete this.g,Ms.$.N.call(this)},lr(js,Vi),lr(Fs,Ki),lr(Us,Os),Us.prototype.Ba=function(){oi(this.g,"a")},Us.prototype.Aa=function(e){oi(this.g,new js(e))},Us.prototype.za=function(e){oi(this.g,new Fs)},Us.prototype.ya=function(){oi(this.g,"b")},lr(zs,function(){this.blockSize=-1}),zs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zs.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Bs(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Bs(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Bs(this,r),i=0;break}}this.h=i,this.i+=t},zs.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ws={};function Hs(e){return-128<=e&&128>e?function(e,t){var n=Ws;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new qs([0|e],0>e?-1:0)}):new qs([0|e],0>e?-1:0)}function Vs(e){if(isNaN(e)||!isFinite(e))return $s;if(0>e)return Js(Vs(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ks;return new qs(t,0)}var Ks=4294967296,$s=Hs(0),Ys=Hs(1),Qs=Hs(16777216);function Gs(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Xs(e){return-1==e.h}function Js(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new qs(n,~e.h).add(Ys)}function Zs(e,t){return e.add(Js(t))}function ea(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ta(e,t){this.g=e,this.h=t}function na(e,t){if(Gs(t))throw Error("division by zero");if(Gs(e))return new ta($s,$s);if(Xs(e))return t=na(Js(e),t),new ta(Js(t.g),Js(t.h));if(Xs(t))return t=na(e,Js(t)),new ta(Js(t.g),t.h);if(30<e.g.length){if(Xs(e)||Xs(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ys,r=t;0>=r.X(e);)n=ra(n),r=ra(r);var i=ia(n,1),o=ia(r,1);for(r=ia(r,2),n=ia(n,2);!Gs(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=ia(r,1),n=ia(n,1)}return t=Zs(e,i.R(t)),new ta(i,t)}for(i=$s;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Vs(n)).R(t);Xs(s)||0<s.X(e);)s=(o=Vs(n-=r)).R(t);Gs(o)&&(o=Ys),i=i.add(o),e=Zs(e,s)}return new ta(i,e)}function ra(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new qs(n,e.h)}function ia(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new qs(i,e.h)}(Qn=qs.prototype).ea=function(){if(Xs(this))return-Js(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ks+r)*t,t*=Ks}return e},Qn.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Gs(this))return"0";if(Xs(this))return"-"+Js(this).toString(e);for(var t=Vs(Math.pow(e,6)),n=this,r="";;){var i=na(n,t).g,o=((0<(n=Zs(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Gs(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Qn.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Qn.X=function(e){return Xs(e=Zs(this,e))?-1:Gs(e)?0:1},Qn.abs=function(){return Xs(this)?Js(this):this},Qn.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new qs(n,-2147483648&n[n.length-1]?-1:0)},Qn.R=function(e){if(Gs(this)||Gs(e))return $s;if(Xs(this))return Xs(e)?Js(this).R(Js(e)):Js(Js(this).R(e));if(Xs(e))return Js(this.R(Js(e)));if(0>this.X(Qs)&&0>e.X(Qs))return Vs(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,ea(n,2*r+2*i),n[2*r+2*i+1]+=o*l,ea(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,ea(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,ea(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new qs(n,0)},Qn.gb=function(e){return na(this,e).h},Qn.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new qs(n,this.h&e.h)},Qn.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new qs(n,this.h|e.h)},Qn.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new qs(n,this.h^e.h)},Ls.prototype.createWebChannel=Ls.prototype.g,Ms.prototype.send=Ms.prototype.u,Ms.prototype.open=Ms.prototype.m,Ms.prototype.close=Ms.prototype.close,Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,Ui.COMPLETE="complete",qi.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",ii.prototype.listen=ii.prototype.O,ts.prototype.listenOnce=ts.prototype.P,ts.prototype.getLastError=ts.prototype.Sa,ts.prototype.getLastErrorCode=ts.prototype.Ia,ts.prototype.getStatus=ts.prototype.da,ts.prototype.getResponseJson=ts.prototype.Wa,ts.prototype.getResponseText=ts.prototype.ja,ts.prototype.send=ts.prototype.ha,ts.prototype.setWithCredentials=ts.prototype.Oa,zs.prototype.digest=zs.prototype.l,zs.prototype.reset=zs.prototype.reset,zs.prototype.update=zs.prototype.j,qs.prototype.add=qs.prototype.add,qs.prototype.multiply=qs.prototype.R,qs.prototype.modulo=qs.prototype.gb,qs.prototype.compare=qs.prototype.X,qs.prototype.toNumber=qs.prototype.ea,qs.prototype.toString=qs.prototype.toString,qs.prototype.getBits=qs.prototype.D,qs.fromNumber=Vs,qs.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Js(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Vs(Math.pow(n,8)),i=$s,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Vs(Math.pow(n,s)),i=i.R(s).add(Vs(a))):i=(i=i.R(r)).add(Vs(a))}return i};Xn.createWebChannelTransport=function(){return new Ls},Xn.getStatEventTarget=function(){return Ri()},Xn.ErrorCode=Fi,Xn.EventType=Ui,Xn.Event=Ni,Xn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xn.FetchXmlHttpFactory=Yo,Xn.WebChannel=qi,Xn.XhrIo=ts,Xn.Md5=zs;var oa=Xn.Integer=qs;const sa="@firebase/firestore";class aa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}aa.UNAUTHENTICATED=new aa(null),aa.GOOGLE_CREDENTIALS=new aa("google-credentials-uid"),aa.FIRST_PARTY=new aa("first-party-uid"),aa.MOCK_USER=new aa("mock-user");let la="9.23.0";const ca=new Ot("@firebase/firestore");function ua(e){if(ca.logLevel<=Nt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fa);ca.debug("Firestore (".concat(la,"): ").concat(e),...i)}}function ha(e){if(ca.logLevel<=Nt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fa);ca.error("Firestore (".concat(la,"): ").concat(e),...i)}}function da(e){if(ca.logLevel<=Nt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fa);ca.warn("Firestore (".concat(la,"): ").concat(e),...i)}}function fa(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function pa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(la,") INTERNAL ASSERTION FAILED: ")+e;throw ha(t),new Error(t)}function ga(e,t){e||pa()}const ma={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ya extends lt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class va{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _a{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ba{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(aa.UNAUTHENTICATED))}shutdown(){}}class wa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ca{constructor(e){this.t=e,this.currentUser=aa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new va;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new va,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{ua("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ua("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new va)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ua("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ga("string"==typeof t.accessToken),new _a(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ga(null===e||"string"==typeof e),new aa(e)}}class Sa{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=aa.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ka{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Sa(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(aa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ea{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ta{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&ua("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,ua("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ua("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):ua("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ga("string"==typeof e.token),this.T=e.token,new Ea(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xa(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ia{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=xa(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Na(e,t){return e<t?-1:e>t?1:0}class Pa{constructor(e,t,n){void 0===t?t=0:t>e.length&&pa(),void 0===n?n=e.length-t:n>e.length-t&&pa(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Pa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pa?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ra extends Pa{construct(e,t,n){return new Ra(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ya(ma.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Ra(e)}static emptyPath(){return new Ra([])}}class Da{constructor(e){this.path=e}static fromPath(e){return new Da(Ra.fromString(e))}static fromName(e){return new Da(Ra.fromString(e).popFirst(5))}static empty(){return new Da(Ra.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ra.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ra.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Da(new Ra(e.slice()))}}class Aa{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Aa.UNKNOWN_ID=-1;function Oa(e){return"IndexedDbTransactionError"===e.name}class La{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Ma(e){return 0===e&&1/e==-1/0}La.ct=-1;const ja=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fa=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ua=Fa;class za{constructor(e,t){this.comparator=e,this.root=t||qa.EMPTY}insert(e,t){return new za(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qa.BLACK,null,null))}remove(e){return new za(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ba(this.root,e,this.comparator,!0)}}class Ba{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qa{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:qa.RED,this.left=null!=r?r:qa.EMPTY,this.right=null!=i?i:qa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new qa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return qa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pa();if(this.right.isRed())throw pa();const e=this.left.check();if(e!==this.right.check())throw pa();return e+(this.isRed()?0:1)}}qa.EMPTY=null,qa.RED=!0,qa.BLACK=!1,qa.EMPTY=new class{constructor(){this.size=0}get key(){throw pa()}get value(){throw pa()}get color(){throw pa()}get left(){throw pa()}get right(){throw pa()}copy(e,t,n,r,i){return this}insert(e,t,n){return new qa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wa{constructor(e){this.comparator=e,this.data=new za(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ha(this.data.getIterator())}getIteratorFrom(e){return new Ha(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Wa))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wa(this.comparator);return t.data=e,t}}class Ha{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Va extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ka{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Va("Invalid base64 string: "+e):e}}(e);return new Ka(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ka(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Na(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ka.EMPTY_BYTE_STRING=new Ka("");new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ya(e){return"string"==typeof e?Ka.fromBase64String(e):Ka.fromUint8Array(e)}class Qa{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Ga{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ga("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ga&&e.projectId===this.projectId&&e.database===this.database}}function Xa(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}new za(Da.comparator);new za(Da.comparator);new za(Da.comparator),new Wa(Da.comparator);new Wa(Na);var Ja,Za;(Za=Ja||(Ja={}))[Za.OK=0]="OK",Za[Za.CANCELLED=1]="CANCELLED",Za[Za.UNKNOWN=2]="UNKNOWN",Za[Za.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Za[Za.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Za[Za.NOT_FOUND=5]="NOT_FOUND",Za[Za.ALREADY_EXISTS=6]="ALREADY_EXISTS",Za[Za.PERMISSION_DENIED=7]="PERMISSION_DENIED",Za[Za.UNAUTHENTICATED=16]="UNAUTHENTICATED",Za[Za.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Za[Za.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Za[Za.ABORTED=10]="ABORTED",Za[Za.OUT_OF_RANGE=11]="OUT_OF_RANGE",Za[Za.UNIMPLEMENTED=12]="UNIMPLEMENTED",Za[Za.INTERNAL=13]="INTERNAL",Za[Za.UNAVAILABLE=14]="UNAVAILABLE",Za[Za.DATA_LOSS=15]="DATA_LOSS";new oa([4294967295,4294967295],0);Error;class el{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe($a(e.integerValue));else if("doubleValue"in e){const n=$a(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Ma(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ya(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Xa(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):pa()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Da.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}el.Ve=new el;new Uint8Array(0);class tl{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new tl(e,tl.DEFAULT_COLLECTION_PERCENTILE,tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}tl.DEFAULT_COLLECTION_PERCENTILE=10,tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tl.DEFAULT=new tl(41943040,tl.DEFAULT_COLLECTION_PERCENTILE,tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tl.DISABLED=new tl(-1,0,0);function nl(){return"undefined"!=typeof document?document:null}class rl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&ua("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class il{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new il(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ya(ma.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ol(e,t){if(ha("AsyncQueue","".concat(t,": ").concat(e)),Oa(e))return new ya(ma.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class sl{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=aa.UNAUTHENTICATED,this.clientId=Ia.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{ua("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(ua("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ya(ma.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Um){const n=ol(Um,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}function al(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ll=new Map;function cl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":pa()}function ul(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ya(ma.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cl(e);throw new ya(ma.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class hl{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ya(ma.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ya(ma.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ya(ma.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=al(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ya(ma.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ya(ma.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ya(ma.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class dl{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ya(ma.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ya(ma.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hl(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ba;switch(e.type){case"firstParty":return new ka(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ya(ma.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ll.get(e);t&&(ua("ComponentProvider","Removing Datastore"),ll.delete(e),t.terminate())}(this),Promise.resolve()}}class fl{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new rl(this,"async_queue_retry"),this.Xc=()=>{const e=nl();e&&ua("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=nl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=nl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new va;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Oa(e))throw e;ua("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ha("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=il.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&pa()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class pl extends dl{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new fl,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gl(this),this._firestoreClient.terminate()}}function gl(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Qa(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,al(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new sl(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}new RegExp("[~\\*/\\[\\]]");!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){la=e}(Ln),Rn(new kt("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new pl(new Ca(e.getProvider("auth-internal")),new Ta(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ya(ma.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Fn(sa,"3.13.0",e),Fn(sa,"3.13.0","esm2017")}();const ml="@firebase/database",yl="0.14.4";let vl="";class _l{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ht(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class bl{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return pt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const wl=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new _l(t)}}catch(Um){}return new bl},Cl=wl("localStorage"),Sl=wl("sessionStorage"),kl=new Ot("@firebase/database"),El=function(){let e=1;return function(){return e++}}(),Tl=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,ze(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new bt;n.update(t);const r=n.digest();return We.encodeByteArray(r)},xl=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=xl.apply(null,n):e+="object"===typeof n?dt(n):n,e+=" "}return e};let Il=null,Nl=!0;const Pl=function(e,t){ze(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(kl.logLevel=Nt.VERBOSE,Il=kl.log.bind(kl),t&&Sl.set("logging_enabled",!0)):"function"===typeof e?Il=e:(Il=null,Sl.remove("logging_enabled"))},Rl=function(){if(!0===Nl&&(Nl=!1,null===Il&&!0===Sl.get("logging_enabled")&&Pl(!0)),Il){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=xl.apply(null,t);Il(r)}},Dl=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Rl(e,...n)}},Al=function(){const e="FIREBASE INTERNAL ERROR: "+xl(...arguments);kl.error(e)},Ol=function(){const e="FIREBASE FATAL ERROR: ".concat(xl(...arguments));throw kl.error(e),new Error(e)},Ll=function(){const e="FIREBASE WARNING: "+xl(...arguments);kl.warn(e)},Ml=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},jl="[MIN_NAME]",Fl="[MAX_NAME]",Ul=function(e,t){if(e===t)return 0;if(e===jl||t===Fl)return-1;if(t===jl||e===Fl)return 1;{const n=$l(e),r=$l(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},zl=function(e,t){return e===t?0:e<t?-1:1},Bl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+dt(t))},ql=function(e){if("object"!==typeof e||null===e)return dt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=dt(t[r]),n+=":",n+=ql(e[t[r]]);return n+="}",n},Wl=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Hl(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Vl=function(e){ze(!Ml(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Kl=new RegExp("^-?(0*)\\d{1,10}$"),$l=function(e){if(Kl.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Yl=function(e){try{e()}catch(Um){setTimeout(()=>{const t=Um.stack||"";throw Ll("Exception was thrown by user callback.",t),Um},Math.floor(0))}},Ql=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Gl{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Ll('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Xl{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Rl("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ll(e)}}class Jl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Jl.OWNER="owner";const Zl="5",ec=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tc="ac",nc="websocket",rc="long_polling";class ic{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cl.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Cl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function oc(e,t,n){let r;if(ze("string"===typeof t,"typeof type must == string"),ze("object"===typeof n,"typeof params must == object"),t===nc)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==rc)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Hl(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class sc{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;pt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ye(this.counters_)}}const ac={},lc={};function cc(e){const t=e.toString();return ac[t]||(ac[t]=new sc),ac[t]}class uc{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Yl(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const hc="start";class dc{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dl(e),this.stats_=cc(t),this.urlFn=e=>(this.appCheckToken&&(e[tc]=this.appCheckToken),oc(t,rc,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new uc(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(ot()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fc(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===hc)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},()=>{this.onClosed_()},this.urlFn);const e={};e[hc]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Zl,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[tc]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&ec.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dc.forceAllow_=!0}static forceDisallow(){dc.forceDisallow_=!0}static isAvailable(){return!ot()&&(!!dc.forceAllow_||!dc.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=dt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ve(t),r=Wl(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(ot())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=dt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class fc{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,ot())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=El(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=fc.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(Um){Rl("frame writing exception"),Um.stack&&Rl(Um.stack),Rl(Um)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Rl("No IE domain setting required")}catch(Um){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){ot()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Rl("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(Um){}},Math.floor(1))}}let pc=null;"undefined"!==typeof MozWebSocket?pc=MozWebSocket:"undefined"!==typeof WebSocket&&(pc=WebSocket);class gc{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dl(this.connId),this.stats_=cc(t),this.connURL=gc.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Zl,!ot()&&"undefined"!==typeof location&&location.hostname&&ec.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[tc]=r),i&&(o.p=i),oc(e,nc,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cl.set("previous_websocket_failure",!0);try{let e;if(ot()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Zl,"/").concat(vl,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new pc(this.connURL,[],e)}catch(Um){this.log_("Error instantiating WebSocket.");const t=Um.message||Um.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){gc.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==pc&&!gc.forceDisallow_}static previouslyFailed(){return Cl.isInMemoryStorage||!0===Cl.get("previous_websocket_failure")}markConnectionHealthy(){Cl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=ht(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ze(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=dt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Wl(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(Um){this.log_("Exception thrown from WebSocket.send():",Um.message||Um.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}gc.responsesRequiredToBeHealthy=2,gc.healthyTimeout=3e4;class mc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[dc,gc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=gc&&gc.isAvailable();let n=t&&!gc.previouslyFailed();if(e.webSocketOnly&&(t||Ll("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[gc];else{const e=this.transports_=[];for(const t of mc.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);mc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mc.globalTransportInitialized_=!1;class yc{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dl("c:"+this.id+":"),this.transportManager_=new mc(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ql(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Bl("t",e),n=Bl("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Bl("t",e),n=Bl("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Bl("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Al("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Al("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Zl!==n&&Ll("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Ql(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ql(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class vc{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class _c{constructor(e){this.allowedEvents_=e,this.listeners_={},ze(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){ze(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class bc extends _c{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||it()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new bc}getInitialEvent(e){return ze("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class wc{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Cc(){return new wc("")}function Sc(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function kc(e){return e.pieces_.length-e.pieceNum_}function Ec(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new wc(e.pieces_,t)}function Tc(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function xc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ic(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new wc(t,0)}function Nc(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof wc)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new wc(n,0)}function Pc(e){return e.pieceNum_>=e.pieces_.length}function Rc(e,t){const n=Sc(e),r=Sc(t);if(null===n)return t;if(n===r)return Rc(Ec(e),Ec(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Dc(e,t){const n=xc(e,0),r=xc(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=Ul(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Ac(e,t){if(kc(e)!==kc(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Oc(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(kc(e)>kc(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Lc{constructor(e,t){this.errorPrefix_=t,this.parts_=xc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Ct(this.parts_[n]);Mc(this)}}function Mc(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+jc(e))}function jc(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Fc extends _c{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new Fc}getInitialEvent(e){return ze("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Uc=1e3;class zc extends vc{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=zc.nextPersistentConnectionId_++,this.log_=Dl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Uc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!ot())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Fc.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&bc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(dt(i)),ze(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new tt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),ze(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ze(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const o=i.d,s=i.s;zc.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&pt(e,"w")){const n=gt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Ll("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=ft(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=ft(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ze(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dt(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Al("Unrecognized action received from server: "+dt(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ze(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Uc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Uc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Uc),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+zc.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){ze(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Rl("getToken() completed but was canceled"):(Rl("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new yc(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{Ll(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(Al){this.log_("Failed to get token: "+Al),o||(this.repoInfo_.nodeAdmin&&Ll(Al),a())}}}interrupt(e){Rl("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Rl("Resuming connection for reason: "+e),delete this.interruptReasons_[e],mt(this.interruptReasons_)&&(this.reconnectDelay_=Uc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>ql(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new wc(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Rl("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Rl("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";ot()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+vl.replace(/\./g,"-")]=1,it()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bc.getInstance().currentlyOnline();return mt(this.interruptReasons_)&&e}}zc.nextPersistentConnectionId_=0,zc.nextConnectionId_=0;class Bc{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Bc(e,t)}}class qc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Bc(jl,e),r=new Bc(jl,t);return 0!==this.compare(n,r)}minPost(){return Bc.MIN}}let Wc;class Hc extends qc{static get __EMPTY_NODE(){return Wc}static set __EMPTY_NODE(e){Wc=e}compare(e,t){return Ul(e.name,t.name)}isDefinedOn(e){throw Be("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Bc.MIN}maxPost(){return new Bc(Fl,Wc)}makePost(e,t){return ze("string"===typeof e,"KeyIndex indexValue must always be a string."),new Bc(e,Wc)}toString(){return".key"}}const Vc=new Hc;class Kc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class $c{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:$c.RED,this.left=null!=r?r:Yc.EMPTY_NODE,this.right=null!=i?i:Yc.EMPTY_NODE}copy(e,t,n,r,i){return new $c(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Yc.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Yc.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,$c.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,$c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}$c.RED=!0,$c.BLACK=!1;class Yc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yc.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Yc(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,$c.BLACK,null,null))}remove(e){return new Yc(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$c.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Kc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Kc(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Kc(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Kc(this.root_,null,this.comparator_,!0,e)}}function Qc(e,t){return Ul(e.name,t.name)}function Gc(e,t){return Ul(e,t)}let Xc;Yc.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new $c(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Jc=function(e){return"number"===typeof e?"number:"+Vl(e):"string:"+e},Zc=function(e){if(e.isLeafNode()){const t=e.val();ze("string"===typeof t||"number"===typeof t||"object"===typeof t&&pt(t,".sv"),"Priority must be a string or number.")}else ze(e===Xc||e.isEmpty(),"priority of unexpected type.");ze(e===Xc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let eu,tu,nu;class ru{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ru.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ze(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Zc(this.priorityNode_)}static set __childrenNodeConstructor(e){eu=e}static get __childrenNodeConstructor(){return eu}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ru(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:ru.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Pc(e)?this:".priority"===Sc(e)?this.priorityNode_:ru.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:ru.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Sc(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(ze(".priority"!==n||1===kc(e),".priority must be the last token in a path"),this.updateImmediateChild(n,ru.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ec(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Jc(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Vl(this.value_):this.value_,this.lazyHash_=Tl(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ru.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ru.__childrenNodeConstructor?-1:(ze(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=ru.VALUE_TYPE_ORDER.indexOf(t),i=ru.VALUE_TYPE_ORDER.indexOf(n);return ze(r>=0,"Unknown leaf type: "+t),ze(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}ru.VALUE_TYPE_ORDER=["object","boolean","number","string"];const iu=new class extends qc{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Ul(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Bc.MIN}maxPost(){return new Bc(Fl,new ru("[PRIORITY-POST]",nu))}makePost(e,t){const n=tu(e);return new Bc(t,new ru("[PRIORITY-POST]",n))}toString(){return".priority"}},ou=Math.log(2);class su{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ou,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const au=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new $c(a,s.node,$c.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new $c(a,s.node,$c.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],h=n?n(u):u;l(new $c(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,$c.BLACK):(a(r,$c.BLACK),a(r,$c.RED))}return o}(new su(e.length));return new Yc(r||t,o)};let lu;const cu={};class uu{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return ze(cu&&iu,"ChildrenNode.ts has not been loaded"),lu=lu||new uu({".priority":cu},{".priority":iu}),lu}get(e){const t=gt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Yc?t:null}hasIndex(e){return pt(this.indexSet_,e.toString())}addIndex(e,t){ze(e!==Vc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Bc.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?au(n,e.getCompare()):cu;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new uu(c,l)}addToIndexes(e,t){const n=yt(this.indexes_,(n,r)=>{const i=gt(this.indexSet_,r);if(ze(i,"Missing index implementation for "+r),n===cu){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Bc.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),au(n,i.getCompare())}return cu}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Bc(e.name,r))),i.insert(e,e.node)}});return new uu(n,this.indexSet_)}removeFromIndexes(e,t){const n=yt(this.indexes_,n=>{if(n===cu)return n;{const r=t.get(e.name);return r?n.remove(new Bc(e.name,r)):n}});return new uu(n,this.indexSet_)}}let hu;class du{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Zc(this.priorityNode_),this.children_.isEmpty()&&ze(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hu||(hu=new du(new Yc(Gc),null,uu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hu}updatePriority(e){return this.children_.isEmpty()?this:new du(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?hu:t}}getChild(e){const t=Sc(e);return null===t?this:this.getImmediateChild(t).getChild(Ec(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(ze(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Bc(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?hu:this.priorityNode_;return new du(r,o,i)}}updateChild(e,t){const n=Sc(e);if(null===n)return t;{ze(".priority"!==Sc(e)||1===kc(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Ec(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(iu,(o,s)=>{t[o]=s.val(e),n++,i&&du.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Jc(this.getPriority().val())+":"),this.forEachChild(iu,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":Tl(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Bc(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Bc(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Bc(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Bc.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Bc.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fu?-1:0}withIndex(e){if(e===Vc||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new du(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Vc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(iu),n=t.getIterator(iu);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Vc?null:this.indexMap_.get(e.toString())}}du.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const fu=new class extends du{constructor(){super(new Yc(Gc),du.EMPTY_NODE,uu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return du.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Bc,{MIN:{value:new Bc(jl,du.EMPTY_NODE)},MAX:{value:new Bc(Fl,fu)}}),Hc.__EMPTY_NODE=du.EMPTY_NODE,ru.__childrenNodeConstructor=du,Xc=fu,function(e){nu=e}(fu);function pu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return du.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ze(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new ru(e,pu(t))}if(e instanceof Array){let n=du.EMPTY_NODE;return Hl(e,(t,r)=>{if(pt(e,t)&&"."!==t.substring(0,1)){const e=pu(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(pu(t))}{const n=[];let r=!1;if(Hl(e,(e,t)=>{if("."!==e.substring(0,1)){const i=pu(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Bc(e,i)))}}),0===n.length)return du.EMPTY_NODE;const i=au(n,Qc,e=>e.name,Gc);if(r){const e=au(n,iu.getCompare());return new du(i,pu(t),new uu({".priority":e},{".priority":iu}))}return new du(i,pu(t),uu.Default)}}!function(e){tu=e}(pu);class gu extends qc{constructor(e){super(),this.indexPath_=e,ze(!Pc(e)&&".priority"!==Sc(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Ul(e.name,t.name):i}makePost(e,t){const n=pu(e),r=du.EMPTY_NODE.updateChild(this.indexPath_,n);return new Bc(t,r)}maxPost(){const e=du.EMPTY_NODE.updateChild(this.indexPath_,fu);return new Bc(Fl,e)}toString(){return xc(this.indexPath_,0).join("/")}}const mu=new class extends qc{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Ul(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Bc.MIN}maxPost(){return Bc.MAX}makePost(e,t){const n=pu(e);return new Bc(t,n)}toString(){return".value"}};function yu(e){return{type:"value",snapshotNode:e}}function vu(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _u(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function bu(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class wu{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){ze(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(_u(t,s)):ze(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(vu(t,n)):o.trackChildChange(bu(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(iu,(e,r)=>{t.hasChild(e)||n.trackChildChange(_u(e,r))}),t.isLeafNode()||t.forEachChild(iu,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(bu(t,r,i))}else n.trackChildChange(vu(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?du.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Cu{constructor(e){this.indexedFilter_=new wu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Cu.getStartPost_(e),this.endPost_=Cu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Bc(t,n))||(n=du.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=du.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(du.EMPTY_NODE);const i=this;return t.forEachChild(iu,(e,t)=>{i.matches(new Bc(e,t))||(r=r.updateImmediateChild(e,du.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Su{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Cu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Bc(t,n))||(n=du.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=du.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=du.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(du.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,du.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;ze(s.numChildren()===this.limit_,"");const a=new Bc(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:o(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(bu(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(_u(t,e));const n=s.updateImmediateChild(t,du.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(vu(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(_u(l.name,l.node)),i.trackChildChange(vu(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,du.EMPTY_NODE)):e}}class ku{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=iu}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ze(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ze(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jl}hasEnd(){return this.endSet_}getIndexEndValue(){return ze(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ze(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ze(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===iu}copy(){const e=new ku;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Eu(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Tu(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function xu(e,t){const n=e.copy();return n.index_=t,n}function Iu(e){const t={};if(e.isDefault())return t;let n;if(e.index_===iu?n="$priority":e.index_===mu?n="$value":e.index_===Vc?n="$key":(ze(e.index_ instanceof gu,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=dt(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=dt(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+dt(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=dt(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+dt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Nu(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==iu&&(t.i=e.index_.toString()),t}class Pu extends vc{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Dl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ze(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Pu.getListenId_(e,n),s={};this.listens_[o]=s;const a=Iu(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),gt(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Pu.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Iu(e._queryParams),n=e._path.toString(),r=new tt;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=ht(a.responseText)}catch(Um){Ll("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Ll("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class Ru{constructor(){this.rootNode_=du.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Du(){return{value:null,children:new Map}}function Au(e,t,n){if(Pc(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Sc(t);e.children.has(r)||e.children.set(r,Du());Au(e.children.get(r),t=Ec(t),n)}}function Ou(e,t){if(Pc(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(iu,(t,n)=>{Au(e,new wc(t),n)}),Ou(e,t)}}if(e.children.size>0){const n=Sc(t);if(t=Ec(t),e.children.has(n)){Ou(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function Lu(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{Lu(r,new wc(t.toString()+"/"+e),n)})}class Mu{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Hl(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class ju{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Mu(e);const n=1e4+2e4*Math.random();Ql(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Hl(e,(e,r)=>{r>0&&pt(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),Ql(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fu;function Uu(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Fu||(Fu={}));class zu{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Fu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Pc(this.path)){if(null!=this.affectedTree.value)return ze(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new wc(e));return new zu(Cc(),t,this.revert)}}return ze(Sc(this.path)===e,"operationForChild called for unrelated child."),new zu(Ec(this.path),this.affectedTree,this.revert)}}class Bu{constructor(e,t){this.source=e,this.path=t,this.type=Fu.LISTEN_COMPLETE}operationForChild(e){return Pc(this.path)?new Bu(this.source,Cc()):new Bu(this.source,Ec(this.path))}}class qu{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Fu.OVERWRITE}operationForChild(e){return Pc(this.path)?new qu(this.source,Cc(),this.snap.getImmediateChild(e)):new qu(this.source,Ec(this.path),this.snap)}}class Wu{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Fu.MERGE}operationForChild(e){if(Pc(this.path)){const t=this.children.subtree(new wc(e));return t.isEmpty()?null:t.value?new qu(this.source,Cc(),t.value):new Wu(this.source,Cc(),t)}return ze(Sc(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Wu(this.source,Ec(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Hu{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Pc(e))return this.isFullyInitialized()&&!this.filtered_;const t=Sc(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Vu{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ku(e,t,n,r,i,o){const s=r.filter(e=>e.type===n);s.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Be("Should only compare child_ events.");const r=new Bc(t.childName,t.snapshotNode),i=new Bc(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),s.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function $u(e,t){return{eventCache:e,serverCache:t}}function Yu(e,t,n,r){return $u(new Hu(t,n,r),e.serverCache)}function Qu(e,t,n,r){return $u(e.eventCache,new Hu(t,n,r))}function Gu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Xu(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ju;class Zu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ju||(Ju=new Yc(zl)),Ju);this.value=e,this.children=t}static fromObject(e){let t=new Zu(null);return Hl(e,(e,n)=>{t=t.set(new wc(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Cc(),value:this.value};if(Pc(e))return null;{const n=Sc(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Ec(e),t);if(null!=i){return{path:Nc(new wc(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Pc(e))return this;{const t=Sc(e),n=this.children.get(t);return null!==n?n.subtree(Ec(e)):new Zu(null)}}set(e,t){if(Pc(e))return new Zu(t,this.children);{const n=Sc(e),r=(this.children.get(n)||new Zu(null)).set(Ec(e),t),i=this.children.insert(n,r);return new Zu(this.value,i)}}remove(e){if(Pc(e))return this.children.isEmpty()?new Zu(null):new Zu(null,this.children);{const t=Sc(e),n=this.children.get(t);if(n){const r=n.remove(Ec(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Zu(null):new Zu(this.value,i)}return this}}get(e){if(Pc(e))return this.value;{const t=Sc(e),n=this.children.get(t);return n?n.get(Ec(e)):null}}setTree(e,t){if(Pc(e))return t;{const n=Sc(e),r=(this.children.get(n)||new Zu(null)).setTree(Ec(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Zu(this.value,i)}}fold(e){return this.fold_(Cc(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(Nc(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Cc(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Pc(e))return null;{const r=Sc(e),i=this.children.get(r);return i?i.findOnPath_(Ec(e),Nc(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Cc(),t)}foreachOnPath_(e,t,n){if(Pc(e))return this;{this.value&&n(t,this.value);const r=Sc(e),i=this.children.get(r);return i?i.foreachOnPath_(Ec(e),Nc(t,r),n):new Zu(null)}}foreach(e){this.foreach_(Cc(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Nc(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class eh{constructor(e){this.writeTree_=e}static empty(){return new eh(new Zu(null))}}function th(e,t,n){if(Pc(t))return new eh(new Zu(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Rc(i,t);return o=o.updateChild(s,n),new eh(e.writeTree_.set(i,o))}{const r=new Zu(n),i=e.writeTree_.setTree(t,r);return new eh(i)}}}function nh(e,t,n){let r=e;return Hl(n,(e,n)=>{r=th(r,Nc(t,e),n)}),r}function rh(e,t){if(Pc(t))return eh.empty();{const n=e.writeTree_.setTree(t,new Zu(null));return new eh(n)}}function ih(e,t){return null!=oh(e,t)}function oh(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Rc(n.path,t)):null}function sh(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(iu,(e,n)=>{t.push(new Bc(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Bc(e,n.value))}),t}function ah(e,t){if(Pc(t))return e;{const n=oh(e,t);return new eh(null!=n?new Zu(n):e.writeTree_.subtree(t))}}function lh(e){return e.writeTree_.isEmpty()}function ch(e,t){return uh(Cc(),e.writeTree_,t)}function uh(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(ze(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=uh(Nc(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Nc(e,".priority"),r)),n}}function hh(e,t){return kh(t,e)}function dh(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);ze(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&fh(t,r.path)?i=!1:Oc(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=gh(e.allWrites,ph,Cc()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=rh(e.visibleWrites,r.path);else{Hl(r.children,t=>{e.visibleWrites=rh(e.visibleWrites,Nc(r.path,t))})}return!0}return!1}function fh(e,t){if(e.snap)return Oc(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Oc(Nc(e.path,n),t))return!0;return!1}function ph(e){return e.visible}function gh(e,t,n){let r=eh.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)Oc(n,e)?(t=Rc(n,e),r=th(r,t,o.snap)):Oc(e,n)&&(t=Rc(e,n),r=th(r,Cc(),o.snap.getChild(t)));else{if(!o.children)throw Be("WriteRecord should have .snap or .children");if(Oc(n,e))t=Rc(n,e),r=nh(r,t,o.children);else if(Oc(e,n))if(t=Rc(e,n),Pc(t))r=nh(r,Cc(),o.children);else{const e=gt(o.children,Sc(t));if(e){const n=e.getChild(Ec(t));r=th(r,Cc(),n)}}}}}return r}function mh(e,t,n,r,i){if(r||i){const o=ah(e.visibleWrites,t);if(!i&&lh(o))return n;if(i||null!=n||ih(o,Cc())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Oc(e.path,t)||Oc(t,e.path))};return ch(gh(e.allWrites,o,t),n||du.EMPTY_NODE)}return null}{const r=oh(e.visibleWrites,t);if(null!=r)return r;{const r=ah(e.visibleWrites,t);if(lh(r))return n;if(null!=n||ih(r,Cc())){return ch(r,n||du.EMPTY_NODE)}return null}}}function yh(e,t,n,r){return mh(e.writeTree,e.treePath,t,n,r)}function vh(e,t){return function(e,t,n){let r=du.EMPTY_NODE;const i=oh(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(iu,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=ah(e.visibleWrites,t);return n.forEachChild(iu,(e,t)=>{const n=ch(ah(i,new wc(e)),t);r=r.updateImmediateChild(e,n)}),sh(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return sh(ah(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function _h(e,t,n,r){return function(e,t,n,r,i){ze(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Nc(t,n);if(ih(e.visibleWrites,o))return null;{const t=ah(e.visibleWrites,o);return lh(t)?i.getChild(n):ch(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function bh(e,t){return function(e,t){return oh(e.visibleWrites,t)}(e.writeTree,Nc(e.treePath,t))}function wh(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=ah(e.visibleWrites,t),c=oh(l,Cc());if(null!=c)a=c;else{if(null==n)return[];a=ch(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function Ch(e,t,n){return function(e,t,n,r){const i=Nc(t,n),o=oh(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return ch(ah(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Sh(e,t){return kh(Nc(e.treePath,t),e.writeTree)}function kh(e,t){return{treePath:e,writeTree:t}}class Eh{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;ze("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ze(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,bu(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,_u(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,vu(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Be("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,bu(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Th=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class xh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Hu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ch(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xu(this.viewCache_),i=wh(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Ih(e,t,n,r,i){const o=new Eh;let s,a;if(n.type===Fu.OVERWRITE){const l=n;l.source.fromUser?s=Rh(e,t,l.path,l.snap,r,i,o):(ze(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Pc(l.path),s=Ph(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Fu.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach((r,l)=>{const c=Nc(n,r);Dh(t,Sc(c))&&(a=Rh(e,a,c,l,i,o,s))}),r.foreach((r,l)=>{const c=Nc(n,r);Dh(t,Sc(c))||(a=Rh(e,a,c,l,i,o,s))}),a}(e,t,l.path,l.children,r,i,o):(ze(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Oh(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Fu.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=bh(r,n))return t;{const a=new xh(r,t,i),l=t.eventCache.getNode();let c;if(Pc(n)||".priority"===Sc(n)){let n;if(t.serverCache.isFullyInitialized())n=yh(r,Xu(t));else{const e=t.serverCache.getNode();ze(e instanceof du,"serverChildren would be complete if leaf node"),n=vh(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=Sc(n);let u=Ch(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,Ec(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,du.EMPTY_NODE,Ec(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=yh(r,Xu(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=bh(r,Cc()),Yu(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=bh(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Pc(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ph(e,t,n,l.getNode().getChild(n),i,o,a,s);if(Pc(n)){let r=new Zu(null);return l.getNode().forEachChild(Vc,(e,t)=>{r=r.set(new wc(e),t)}),Oh(e,t,n,r,i,o,a,s)}return t}{let c=new Zu(null);return r.foreach((e,t)=>{const r=Nc(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Oh(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==Fu.LISTEN_COMPLETE)throw Be("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=Qu(t,o.getNode(),o.isFullyInitialized()||Pc(n),o.isFiltered());return Nh(e,s,n,r,Th,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Gu(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(yu(Gu(t)))}}(t,s,l),{viewCache:s,changes:l}}function Nh(e,t,n,r,i,o){const s=t.eventCache;if(null!=bh(r,n))return t;{let a,l;if(Pc(n))if(ze(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Xu(t),i=vh(r,n instanceof du?n:du.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=yh(r,Xu(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=Sc(n);if(".priority"===c){ze(1===kc(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=_h(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=Ec(n);let h;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=_h(r,n,s.getNode(),l);h=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else h=Ch(r,c,t.serverCache);a=null!=h?e.filter.updateChild(s.getNode(),c,h,u,i,o):s.getNode()}}return Yu(t,a,s.isFullyInitialized()||Pc(n),e.filter.filtersNodes())}}function Ph(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(Pc(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Sc(n);if(!l.isCompleteForPath(n)&&kc(n)>1)return t;const i=Ec(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,Th,null)}const h=Qu(t,c,l.isFullyInitialized()||Pc(n),u.filtersNodes());return Nh(e,h,n,i,new xh(i,h,o),a)}function Rh(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new xh(i,t,o);if(Pc(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Yu(t,c,!0,e.filter.filtersNodes());else{const i=Sc(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Yu(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=Ec(n),c=a.getNode().getImmediateChild(i);let h;if(Pc(o))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===Tc(o)&&e.getChild(Ic(o)).isEmpty()?e:e.updateChild(o,r):du.EMPTY_NODE}if(c.equals(h))l=t;else{l=Yu(t,e.filter.updateChild(a.getNode(),i,h,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Dh(e,t){return e.eventCache.isCompleteForChild(t)}function Ah(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Oh(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Pc(n)?r:new Zu(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Ah(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ph(e,c,new wc(n),l,i,o,s,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Ah(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ph(e,c,new wc(n),l,i,o,s,a)}}),c}class Lh{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new wu(n.getIndex()),i=(o=n).loadsAllData()?new wu(o.getIndex()):o.hasLimit()?new Su(o):new Cu(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(du.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(du.EMPTY_NODE,a.getNode(),null),u=new Hu(l,s.isFullyInitialized(),r.filtersNodes()),h=new Hu(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=$u(h,u),this.eventGenerator_=new Vu(this.query_)}get query(){return this.query_}}function Mh(e,t){const n=Xu(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Pc(t)&&!n.getImmediateChild(Sc(t)).isEmpty())?n.getChild(t):null}function jh(e){return 0===e.eventRegistrations_.length}function Fh(e,t,n){const r=[];if(n){ze(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Uh(e,t,n,r){t.type===Fu.MERGE&&null!==t.source.queryId&&(ze(Xu(e.viewCache_),"We should always have a full cache before handling merges"),ze(Gu(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=Ih(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,ze(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),ze(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),ze(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,zh(e,o.changes,o.viewCache.eventCache.getNode(),null)}function zh(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Ku(e,i,"child_removed",t,r,n),Ku(e,i,"child_added",t,r,n),Ku(e,i,"child_moved",o,r,n),Ku(e,i,"child_changed",t,r,n),Ku(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Bh,qh;class Wh{constructor(){this.views=new Map}}function Hh(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return ze(null!=o,"SyncTree gave us an op for an invalid query."),Uh(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Uh(o,t,n,r));return i}}function Vh(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=yh(n,i?r:null),o=!1;e?o=!0:r instanceof du?(e=vh(n,r),o=!1):(e=du.EMPTY_NODE,o=!1);const s=$u(new Hu(e,o,!1),new Hu(r,i,!1));return new Lh(t,s)}return s}function Kh(e,t,n,r,i,o){const s=Vh(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(iu,(e,t)=>{r.push(vu(e,t))});return n.isFullyInitialized()&&r.push(yu(n.getNode())),zh(e,r,n.getNode(),t)}(s,n)}function $h(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Jh(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(Fh(c,n,r)),jh(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(Fh(t,n,r)),jh(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!Jh(e)&&o.push(new(ze(Bh,"Reference.ts has not been loaded"),Bh)(t._repo,t._path)),{removed:o,events:s}}function Yh(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Qh(e,t){let n=null;for(const r of e.views.values())n=n||Mh(r,t);return n}function Gh(e,t){if(t._queryParams.loadsAllData())return Zh(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Xh(e,t){return null!=Gh(e,t)}function Jh(e){return null!=Zh(e)}function Zh(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ed=1;class td{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Zu(null),this.pendingWriteTree_={visibleWrites:eh.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nd(e,t,n,r,i){return function(e,t,n,r,i){ze(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=th(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ud(e,new qu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function rd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(dh(e.pendingWriteTree_,t)){let t=new Zu(null);return null!=r.snap?t=t.set(Cc(),!0):Hl(r.children,e=>{t=t.set(new wc(e),!0)}),ud(e,new zu(r.path,t,n))}return[]}function id(e,t,n){return ud(e,new qu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function od(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Xh(s,t))){const l=$h(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(o,(e,t)=>Jh(t));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&Jh(t)){return[Zh(t)]}{let e=[];return t&&(e=Yh(t)),Hl(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=fd(e,r);e.listenProvider_.startListening(_d(i),pd(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(_d(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(gd(t));e.listenProvider_.stopListening(_d(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=gd(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function sd(e,t,n,r){const i=md(e,r);if(null!=i){const r=yd(i),o=r.path,s=r.queryId,a=Rc(o,t);return vd(e,o,new qu(Uu(s),a,n))}return[]}function ad(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=Rc(e,i);o=o||Qh(t,n),s=s||Jh(t)});let a,l=e.syncPointTree_.get(i);if(l?(s=s||Jh(l),o=o||Qh(l,Cc())):(l=new Wh,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=du.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=Qh(t,Cc());n&&(o=o.updateImmediateChild(e,n))})}const c=Xh(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=gd(t);ze(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=ed++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=Kh(l,t,n,hh(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=Gh(l,t);u=u.concat(function(e,t,n){const r=t._path,i=pd(e,t),o=fd(e,n),s=e.listenProvider_.startListening(_d(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)ze(!Jh(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!Pc(e)&&t&&Jh(t))return[Zh(t).query];{let e=[];return t&&(e=e.concat(Yh(t).map(e=>e.query))),Hl(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(_d(r),pd(e,r))}}return s}(e,t,n))}return u}function ld(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Qh(n,Rc(e,t));if(r)return r});return mh(r,t,i,n,!0)}function cd(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const i=Rc(e,n);r=r||Qh(t,i)});let i=e.syncPointTree_.get(n);i?r=r||Qh(i,Cc()):(i=new Wh,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new Hu(r,!0,!1):null;return function(e){return Gu(e.viewCache_)}(Vh(i,t,hh(e.pendingWriteTree_,t._path),o?s.getNode():du.EMPTY_NODE,o))}function ud(e,t){return hd(t,e.syncPointTree_,null,hh(e.pendingWriteTree_,Cc()))}function hd(e,t,n,r){if(Pc(e.path))return dd(e,t,n,r);{const i=t.get(Cc());null==n&&null!=i&&(n=Qh(i,Cc()));let o=[];const s=Sc(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=Sh(r,s);o=o.concat(hd(a,l,e,t))}return i&&(o=o.concat(Hh(i,e,r,n))),o}}function dd(e,t,n,r){const i=t.get(Cc());null==n&&null!=i&&(n=Qh(i,Cc()));let o=[];return t.children.inorderTraversal((t,i)=>{const s=n?n.getImmediateChild(t):null,a=Sh(r,t),l=e.operationForChild(t);l&&(o=o.concat(dd(l,i,s,a)))}),i&&(o=o.concat(Hh(i,e,r,n))),o}function fd(e,t){const n=t.query,r=pd(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||du.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=md(e,n);if(r){const n=yd(r),i=n.path,o=n.queryId,s=Rc(i,t);return vd(e,i,new Bu(Uu(o),s))}return[]}(e,n._path,r):function(e,t){return ud(e,new Bu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return od(e,n,null,r)}}}}function pd(e,t){const n=gd(t);return e.queryToTagMap.get(n)}function gd(e){return e._path.toString()+"$"+e._queryIdentifier}function md(e,t){return e.tagToQueryMap.get(t)}function yd(e){const t=e.indexOf("$");return ze(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new wc(e.substr(0,t))}}function vd(e,t,n){const r=e.syncPointTree_.get(t);ze(r,"Missing sync point for query tag that we're tracking");return Hh(r,n,hh(e.pendingWriteTree_,t),null)}function _d(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ze(qh,"Reference.ts has not been loaded"),qh)(e._repo,e._path):e}class bd{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new bd(t)}node(){return this.node_}}class wd{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Nc(this.path_,e);return new wd(this.syncTree_,t)}node(){return ld(this.syncTree_,this.path_)}}const Cd=function(e,t,n){return e&&"object"===typeof e?(ze(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Sd(e[".sv"],t,n):"object"===typeof e[".sv"]?kd(e[".sv"],t):void ze(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Sd=function(e,t,n){if("timestamp"===e)return n.timestamp;ze(!1,"Unexpected server value: "+e)},kd=function(e,t,n){e.hasOwnProperty("increment")||ze(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&ze(!1,"Unexpected increment value: "+r);const i=t.node();if(ze(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},Ed=function(e,t,n,r){return xd(t,new wd(n,e),r)},Td=function(e,t,n){return xd(e,new bd(t),n)};function xd(e,t,n){const r=e.getPriority().val(),i=Cd(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Cd(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new ru(o,pu(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new ru(i))),r.forEachChild(iu,(e,r)=>{const i=xd(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))}),o}}class Id{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Nd(e,t){let n=t instanceof wc?t:new wc(t),r=e,i=Sc(n);for(;null!==i;){const e=gt(r.node.children,i)||{children:{},childCount:0};r=new Id(i,r,e),n=Ec(n),i=Sc(n)}return r}function Pd(e){return e.node.value}function Rd(e,t){e.node.value=t,Md(e)}function Dd(e){return e.node.childCount>0}function Ad(e,t){Hl(e.node.children,(n,r)=>{t(new Id(n,e,r))})}function Od(e,t,n,r){n&&!r&&t(e),Ad(e,e=>{Od(e,t,!0,r)}),n&&r&&t(e)}function Ld(e){return new wc(null===e.parent?e.name:Ld(e.parent)+"/"+e.name)}function Md(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Pd(e)&&!Dd(e)}(n),i=pt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Md(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Md(e))}(e.parent,e.name,e)}const jd=/[\[\].#$\/\u0000-\u001F\u007F]/,Fd=/[\[\].#$\u0000-\u001F\u007F]/,Ud=10485760,zd=function(e){return"string"===typeof e&&0!==e.length&&!jd.test(e)},Bd=function(e){return"string"===typeof e&&0!==e.length&&!Fd.test(e)},qd=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Ml(e)||e&&"object"===typeof e&&pt(e,".sv")},Wd=function(e,t,n,r){r&&void 0===t||Hd(wt(e,"value"),t,n)},Hd=function(e,t,n){const r=n instanceof wc?new Lc(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+jc(r));if("function"===typeof t)throw new Error(e+"contains a function "+jc(r)+" with contents = "+t.toString());if(Ml(t))throw new Error(e+"contains "+t.toString()+" "+jc(r));if("string"===typeof t&&t.length>Ud/3&&Ct(t)>Ud)throw new Error(e+"contains a string greater than "+Ud+" utf8 bytes "+jc(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Hl(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!zd(t)))throw new Error(e+" contains an invalid key ("+t+") "+jc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ct(t),Mc(e)}(r,t),Hd(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=Ct(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+jc(r)+" in addition to actual children.")}},Vd=function(e,t,n,r){if(r&&void 0===t)return;const i=wt(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];Hl(t,(e,t)=>{const r=new wc(e);if(Hd(i,t,Nc(n,r)),".priority"===Tc(r)&&!qd(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=xc(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!zd(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Dc);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Oc(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},Kd=function(e,t,n){if(!n||void 0!==t){if(Ml(t))throw new Error(wt(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qd(t))throw new Error(wt(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$d=function(e,t,n,r){if((!r||void 0!==n)&&!zd(n))throw new Error(wt(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Yd=function(e,t,n,r){if((!r||void 0!==n)&&!Bd(n))throw new Error(wt(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Qd=function(e,t){if(".info"===Sc(t))throw new Error(e+" failed = Can't modify data under /.info/")},Gd=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!zd(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Bd(e)}(n))throw new Error(wt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Xd{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jd(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||Ac(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Zd(e,t,n){Jd(e,n),tf(e,e=>Ac(e,t))}function ef(e,t,n){Jd(e,n),tf(e,e=>Oc(e,t)||Oc(t,e))}function tf(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(nf(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function nf(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Il&&Rl("event: "+n.toString()),Yl(r)}}}const rf="repo_interrupt";class of{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Du(),this.transactionQueueTree_=new Id,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function sf(e,t,n){if(e.stats_=cc(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Pu(e.repoInfo_,(t,n,r,i)=>{cf(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>uf(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(n)}catch(Um){throw new Error("Invalid authOverride provided: "+Um)}}e.persistentConnection_=new zc(e.repoInfo_,t,(t,n,r,i)=>{cf(e,t,n,r,i)},t=>{uf(e,t)},t=>{!function(e,t){Hl(t,(t,n)=>{hf(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return lc[n]||(lc[n]=t()),lc[n]}(e.repoInfo_,()=>new ju(e.stats_,e.server_)),e.infoData_=new Ru,e.infoSyncTree_=new td({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=id(e.infoSyncTree_,t._path,s),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),hf(e,"connected",!1),e.serverSyncTree_=new td({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const o=i(n,r);ef(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function af(e){const t=e.infoData_.getNode(new wc(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function lf(e){return(t=(t={timestamp:af(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function cf(e,t,n,r,i){e.dataUpdateCount++;const o=new wc(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=yt(n,e=>pu(e));s=function(e,t,n,r){const i=md(e,r);if(i){const r=yd(i),o=r.path,s=r.queryId,a=Rc(o,t),l=Zu.fromObject(n);return vd(e,o,new Wu(Uu(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=pu(n);s=sd(e.serverSyncTree_,o,t,i)}else if(r){const t=yt(n,e=>pu(e));s=function(e,t,n){const r=Zu.fromObject(n);return ud(e,new Wu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=pu(n);s=id(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=Cf(e,o)),ef(e.eventQueue_,a,s)}function uf(e,t){hf(e,"connected",t),!1===t&&function(e){vf(e,"onDisconnectEvents");const t=lf(e),n=Du();Lu(e.onDisconnect_,Cc(),(r,i)=>{const o=Ed(r,i,e.serverSyncTree_,t);Au(n,r,o)});let r=[];Lu(n,Cc(),(t,n)=>{r=r.concat(id(e.serverSyncTree_,t,n));const i=xf(e,t);Cf(e,i)}),e.onDisconnect_=Du(),ef(e.eventQueue_,Cc(),r)}(e)}function hf(e,t,n){const r=new wc("/.info/"+t),i=pu(n);e.infoData_.updateSnapshot(r,i);const o=id(e.infoSyncTree_,r,i);ef(e.eventQueue_,r,o)}function df(e){return e.nextWriteId_++}function ff(e,t,n,r,i){vf(e,"set",{path:t.toString(),value:n,priority:r});const o=lf(e),s=pu(n,r),a=ld(e.serverSyncTree_,t),l=Td(s,a,o),c=df(e),u=nd(e.serverSyncTree_,t,l,c,!0);Jd(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{const o="ok"===n;o||Ll("set at "+t+" failed: "+n);const s=rd(e.serverSyncTree_,c,!o);ef(e.eventQueue_,t,s),_f(e,i,n,r)});const h=xf(e,t);Cf(e,h),ef(e.eventQueue_,h,[])}function pf(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&Ou(e.onDisconnect_,t),_f(e,n,r,i)})}function gf(e,t,n,r){const i=pu(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,o)=>{"ok"===n&&Au(e.onDisconnect_,t,i),_f(e,r,n,o)})}function mf(e,t,n){let r;r=".info"===Sc(t._path)?od(e.infoSyncTree_,t,n):od(e.serverSyncTree_,t,n),Zd(e.eventQueue_,t._path,r)}function yf(e){e.persistentConnection_&&e.persistentConnection_.interrupt(rf)}function vf(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Rl(t,...r)}function _f(e,t,n,r){t&&Yl(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}})}function bf(e,t,n){return ld(e.serverSyncTree_,t,n)||du.EMPTY_NODE}function wf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Tf(e,t),Pd(t)){const n=kf(e,t);ze(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=bf(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];ze(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Rc(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,r=>{vf(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(rd(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Tf(e,Nd(e.transactionQueueTree_,t)),wf(e,e.transactionQueueTree_),ef(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Yl(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Ll("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Cf(e,t)}},s)}(e,Ld(t),n)}else Dd(t)&&Ad(t,t=>{wf(e,t)})}function Cf(e,t){const n=Sf(e,t),r=Ld(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter(e=>0===e.status),s=o.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const o=t[a],l=Rc(n,o.path);let c,u=!1;if(ze(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,i=i.concat(rd(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)u=!0,c="maxretry",i=i.concat(rd(e.serverSyncTree_,o.currentWriteId,!0));else{const n=bf(e,o.path,s);o.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){Hd("transaction failed: Data returned ",r,o.path);let t=pu(r);"object"===typeof r&&null!=r&&pt(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=lf(e),c=Td(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=df(e),s.splice(s.indexOf(a),1),i=i.concat(nd(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(rd(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(rd(e.serverSyncTree_,o.currentWriteId,!0))}ef(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}Tf(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Yl(r[a]);wf(e,e.transactionQueueTree_)}(e,kf(e,n),r),r}function Sf(e,t){let n,r=e.transactionQueueTree_;for(n=Sc(t);null!==n&&void 0===Pd(r);)r=Nd(r,n),n=Sc(t=Ec(t));return r}function kf(e,t){const n=[];return Ef(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Ef(e,t,n){const r=Pd(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ad(t,t=>{Ef(e,t,n)})}function Tf(e,t){const n=Pd(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Rd(t,n.length>0?n:void 0)}Ad(t,t=>{Tf(e,t)})}function xf(e,t){const n=Ld(Sf(e,t)),r=Nd(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{If(e,t)}),If(e,r),Od(r,t=>{If(e,t)}),n}function If(e,t){const n=Pd(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(ze(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(ze(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(rd(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Rd(t,void 0):n.length=o+1,ef(e.eventQueue_,Ld(t),i);for(let e=0;e<r.length;e++)Yl(r[e])}}const Nf=function(e,t){const n=Pf(e),r=n.namespace;"firebase.com"===n.domain&&Ol(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ol("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ll("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ic(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new wc(n.pathString)}},Pf=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(Um){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ll("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Rf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Df=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Rf.charAt(n%64),n=Math.floor(n/64);ze(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=Rf.charAt(t[i]);return ze(20===s.length,"nextPushId: Length should be 20."),s}}();class Af{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class Of{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Lf{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ze(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Mf{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new tt;return pf(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Qd("OnDisconnect.remove",this._path);const e=new tt;return gf(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Qd("OnDisconnect.set",this._path),Wd("OnDisconnect.set",e,this._path,!1);const t=new tt;return gf(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Qd("OnDisconnect.setWithPriority",this._path),Wd("OnDisconnect.setWithPriority",e,this._path,!1),Kd("OnDisconnect.setWithPriority",t,!1);const n=new tt;return function(e,t,n,r,i){const o=pu(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(n,r)=>{"ok"===n&&Au(e.onDisconnect_,t,o),_f(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){Qd("OnDisconnect.update",this._path),Vd("OnDisconnect.update",e,this._path,!1);const t=new tt;return function(e,t,n,r){if(mt(n))return Rl("onDisconnect().update() called with empty data.  Don't do anything."),void _f(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,o)=>{"ok"===i&&Hl(n,(n,r)=>{const i=pu(r);Au(e.onDisconnect_,Nc(t,n),i)}),_f(0,r,i,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class jf{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Pc(this._path)?null:Tc(this._path)}get ref(){return new Bf(this._repo,this._path)}get _queryIdentifier(){const e=Nu(this._queryParams),t=ql(e);return"{}"===t?"default":t}get _queryObject(){return Nu(this._queryParams)}isEqual(e){if(!((e=St(e))instanceof jf))return!1;const t=this._repo===e._repo,n=Ac(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Ff(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Uf(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Vc){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==jl)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Fl)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===iu){if(null!=t&&!qd(t)||null!=n&&!qd(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ze(e.getIndex()instanceof gu||e.getIndex()===mu,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function zf(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Bf extends jf{constructor(e,t){super(e,t,new ku,!1)}get parent(){const e=Ic(this._path);return null===e?null:new Bf(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class qf{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new wc(e),n=Hf(this.ref,e);return new qf(this._node.getChild(t),n,iu)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new qf(n,Hf(this.ref,t),iu)))}hasChild(e){const t=new wc(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Wf(e,t){return(e=St(e))._checkNotDeleted("ref"),void 0!==t?Hf(e._root,t):e._root}function Hf(e,t){var n,r,i,o;return null===Sc((e=St(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Yd(n,r,i,o)):Yd("child","path",t,!1),new Bf(e._repo,Nc(e._path,t))}function Vf(e,t){e=St(e),Qd("push",e._path),Wd("push",t,e._path,!0);const n=af(e._repo),r=Df(n),i=Hf(e,r),o=Hf(e,r);let s;return s=null!=t?Kf(o,t).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function Kf(e,t){e=St(e),Qd("set",e._path),Wd("set",t,e._path,!1);const n=new tt;return ff(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function $f(e){e=St(e);const t=new Lf(()=>{}),n=new Yf(t);return function(e,t,n){const r=cd(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const i=pu(r).withIndex(t._queryParams.getIndex());let o;if(ad(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=id(e.serverSyncTree_,t._path,i);else{const n=pd(e.serverSyncTree_,t);o=sd(e.serverSyncTree_,t._path,i,n)}return ef(e.eventQueue_,t._path,o),od(e.serverSyncTree_,t,n,null,!0),i},n=>(vf(e,"get for query "+dt(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new qf(t,new Bf(e._repo,e._path),e._queryParams.getIndex()))}class Yf{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Af("value",this,new qf(e.snapshotNode,new Bf(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Of(this,e,t):null}matches(e){return e instanceof Yf&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Qf{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Of(this,e,t):null}createEvent(e,t){ze(null!=e.childName,"Child events should have a childName.");const n=Hf(new Bf(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Af(e.type,this,new qf(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Qf&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Gf(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{mf(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new Lf(n,o||void 0),a="value"===t?new Yf(s):new Qf(t,s);return function(e,t,n){let r;r=".info"===Sc(t._path)?ad(e.infoSyncTree_,t,n):ad(e.serverSyncTree_,t,n),Zd(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>mf(e._repo,e,a)}function Xf(e,t,n,r){return Gf(e,"value",t,n,r)}class Jf{}class Zf extends Jf{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Wd("endAt",this._value,e._path,!0);const t=Tu(e._queryParams,this._value,this._key);if(zf(t),Uf(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new jf(e._repo,e._path,t,e._orderByCalled)}}class ep extends Jf{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Wd("startAt",this._value,e._path,!0);const t=Eu(e._queryParams,this._value,this._key);if(zf(t),Uf(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new jf(e._repo,e._path,t,e._orderByCalled)}}class tp extends Jf{constructor(e){super(),this._path=e}_apply(e){Ff(e,"orderByChild");const t=new wc(this._path);if(Pc(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new gu(t),r=xu(e._queryParams,n);return Uf(r),new jf(e._repo,e._path,r,!0)}}function np(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yd("orderByChild","path",e,!1),new tp(e)}class rp extends Jf{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Wd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Zf(this._value,this._key)._apply(new ep(this._value,this._key)._apply(e))}}function ip(e,t){return $d("equalTo","key",t,!0),new rp(e,t)}function op(e){let t=St(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)t=o._apply(t);return t}!function(e){ze(!Bh,"__referenceConstructor has already been defined"),Bh=e}(Bf),function(e){ze(!qh,"__referenceConstructor has already been defined"),qh=e}(Bf);const sp={};let ap=!1;function lp(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Ol("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rl("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=Nf(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=Nf(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new Jl(Jl.OWNER):new Xl(e.name,e.options,t);Gd("Invalid Firebase Database URL",l),Pc(l.path)||Ol("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=sp[t.name];i||(i={},sp[t.name]=i);let o=i[e.toURLString()];o&&Ol("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new of(e,ap,n,r),i[e.toURLString()]=o,o}(c,e,u,new Gl(e.name,n));return new cp(h,e)}class cp{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(sf(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bf(this._repo,Cc())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=sp[t];n&&n[e.key]===e||Ol("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),yf(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ol("Cannot call "+e+" on a deleted database.")}}zc.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},zc.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){vl=e}(Ln),Rn(new kt("database",(e,t)=>{let{instanceIdentifier:n}=t;return lp(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Fn(ml,yl,e),Fn(ml,yl,"esm2017")}();let up,hp;const dp=new WeakMap,fp=new WeakMap,pp=new WeakMap,gp=new WeakMap,mp=new WeakMap;let yp={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return fp.get(e);if("objectStoreNames"===t)return e.objectStoreNames||pp.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bp(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function vp(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(hp||(hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(wp(this),n),bp(dp.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bp(e.apply(wp(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(wp(this),t,...r);return pp.set(o,t.sort?t.sort():[t]),bp(o)}}function _p(e){return"function"===typeof e?vp(e):(e instanceof IDBTransaction&&function(e){if(fp.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});fp.set(e,t)}(e),t=e,(up||(up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,yp):e);var t}function bp(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(bp(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&dp.set(t,e)}).catch(()=>{}),mp.set(t,e),t}(e);if(gp.has(e))return gp.get(e);const t=_p(e);return t!==e&&(gp.set(e,t),mp.set(t,e)),t}const wp=e=>mp.get(e);const Cp=["get","getKey","getAll","getAllKeys","count"],Sp=["put","add","delete","clear"],kp=new Map;function Ep(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(kp.get(t))return kp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Sp.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Cp.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return kp.set(t,o),o}!function(e){yp=e(yp)}(e=>Me(Me({},e),{},{get:(t,n,r)=>Ep(t,n)||e.get(t,n,r),has:(t,n)=>!!Ep(t,n)||e.has(t,n)}));const Tp="@firebase/installations",xp="0.6.4",Ip=1e4,Np="w:".concat(xp),Pp="FIS_v2",Rp=36e5,Dp=new ct("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ap(e){return e instanceof lt&&e.code.includes("request-failed")}function Op(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Lp(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Mp(e,t){const n=(await t.json()).error;return Dp.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function jp(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Fp(e,t){let{refreshToken:n}=t;const r=jp(e);return r.append("Authorization",function(e){return"".concat(Pp," ").concat(e)}(n)),r}async function Up(e){const t=await e();return t.status>=500&&t.status<600?e():t}function zp(e){return new Promise(t=>{setTimeout(t,e)})}const Bp=/^[cdef][\w-]{21}$/;function qp(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Bp.test(t)?t:""}catch(e){return""}}function Wp(e){return"".concat(e.appName,"!").concat(e.appId)}const Hp=new Map;function Vp(e,t){const n=Wp(e);Kp(n,t),function(e,t){const n=Yp();n&&n.postMessage({key:e,fid:t});Qp()}(n,t)}function Kp(e,t){const n=Hp.get(e);if(n)for(const r of n)r(t)}let $p=null;function Yp(){return!$p&&"BroadcastChannel"in self&&($p=new BroadcastChannel("[Firebase] FID Change"),$p.onmessage=e=>{Kp(e.data.key,e.data.fid)}),$p}function Qp(){0===Hp.size&&$p&&($p.close(),$p=null)}const Gp="firebase-installations-store";let Xp=null;function Jp(){return Xp||(Xp=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=bp(s);return r&&s.addEventListener("upgradeneeded",e=>{r(bp(s.result),e.oldVersion,e.newVersion,bp(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Gp)}})),Xp}async function Zp(e,t){const n=Wp(e),r=(await Jp()).transaction(Gp,"readwrite"),i=r.objectStore(Gp),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Vp(e,t.fid),t}async function eg(e){const t=Wp(e),n=(await Jp()).transaction(Gp,"readwrite");await n.objectStore(Gp).delete(t),await n.done}async function tg(e,t){const n=Wp(e),r=(await Jp()).transaction(Gp,"readwrite"),i=r.objectStore(Gp),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||Vp(e,s.fid),s}async function ng(e){let t;const n=await tg(e.appConfig,n=>{const r=function(e){const t=e||{fid:qp(),registrationStatus:0};return og(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Dp.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Op(n),s=jp(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:Pp,appId:n.appId,sdkVersion:Np},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await Up(()=>fetch(o,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Lp(e.authToken)}}throw await Mp("Create Installation",u)}(e,t);return Zp(e.appConfig,n)}catch(Um){throw Ap(Um)&&409===Um.customData.serverCode?await eg(e.appConfig):await Zp(e.appConfig,{fid:t.fid,registrationStatus:0}),Um}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:rg(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function rg(e){let t=await ig(e.appConfig);for(;1===t.registrationStatus;)await zp(100),t=await ig(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await ng(e);return n||t}return t}function ig(e){return tg(e,e=>{if(!e)throw Dp.create("installation-not-found");return og(e)})}function og(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ip<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function sg(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Op(e),"/").concat(n,"/authTokens:generate")}(n,t),o=Fp(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:Np,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await Up(()=>fetch(i,l));if(c.ok){return Lp(await c.json())}throw await Mp("Generate Auth Token",c)}async function ag(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await tg(e.appConfig,r=>{if(!cg(r))throw Dp.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Rp}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await lg(e.appConfig);for(;1===n.authToken.requestStatus;)await zp(100),n=await lg(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ag(e,t):r}(e,n),r;{if(!navigator.onLine)throw Dp.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await sg(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Zp(e.appConfig,r),n}catch(Um){if(!Ap(Um)||401!==Um.customData.serverCode&&404!==Um.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Zp(e.appConfig,n)}else await eg(e.appConfig);throw Um}}(e,n),n}});return t?await t:r.authToken}function lg(e){return tg(e,e=>{if(!cg(e))throw Dp.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Ip<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function cg(e){return void 0!==e&&2===e.registrationStatus}async function ug(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await ng(e);t&&await t}(n);return(await ag(n,t)).token}function hg(e){return Dp.create("missing-app-config-values",{valueName:e})}const dg="installations",fg=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw hg("App Configuration");if(!e.name)throw hg("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw hg(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Dn(t,"heartbeat"),_delete:()=>Promise.resolve()}},pg=e=>{const t=Dn(e.getProvider("app").getImmediate(),dg).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await ng(t);return r?r.catch(console.error):ag(t).catch(console.error),n.fid}(t),getToken:e=>ug(t,e)}};Rn(new kt(dg,fg,"PUBLIC")),Rn(new kt("installations-internal",pg,"PRIVATE")),Fn(Tp,xp),Fn(Tp,xp,"esm2017");let gg,mg;const yg=new WeakMap,vg=new WeakMap,_g=new WeakMap,bg=new WeakMap,wg=new WeakMap;let Cg={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vg.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_g.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Eg(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Sg(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mg||(mg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Tg(this),n),Eg(yg.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Eg(e.apply(Tg(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Tg(this),t,...r);return _g.set(o,t.sort?t.sort():[t]),Eg(o)}}function kg(e){return"function"===typeof e?Sg(e):(e instanceof IDBTransaction&&function(e){if(vg.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});vg.set(e,t)}(e),t=e,(gg||(gg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Cg):e);var t}function Eg(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Eg(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&yg.set(t,e)}).catch(()=>{}),wg.set(t,e),t}(e);if(bg.has(e))return bg.get(e);const t=kg(e);return t!==e&&(bg.set(e,t),wg.set(t,e)),t}const Tg=e=>wg.get(e);function xg(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Eg(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Eg(s.result),e.oldVersion,e.newVersion,Eg(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Ig(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),Eg(n).then(()=>{})}const Ng=["get","getKey","getAll","getAllKeys","count"],Pg=["put","add","delete","clear"],Rg=new Map;function Dg(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Rg.get(t))return Rg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Pg.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ng.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Rg.set(t,o),o}!function(e){Cg=e(Cg)}(e=>Me(Me({},e),{},{get:(t,n,r)=>Dg(t,n)||e.get(t,n,r),has:(t,n)=>!!Dg(t,n)||e.has(t,n)}));const Ag="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Og="google.c.a.c_id";var Lg,Mg;function jg(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fg(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Lg||(Lg={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Mg||(Mg={}));const Ug="fcm_token_details_db",zg="fcm_token_object_Store";const Bg="firebase-messaging-store";let qg=null;function Wg(){return qg||(qg=xg("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Bg)}})),qg}async function Hg(e){const t=Kg(e),n=await Wg(),r=await n.transaction(Bg).objectStore(Bg).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(Ug))return null}let t=null;const n=await xg(Ug,5,{upgrade:async(n,r,i,o)=>{var s;if(r<2)return;if(!n.objectStoreNames.contains(zg))return;const a=o.objectStore(zg),l=await a.index("fcmSenderId").get(e);if(await a.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(s=e.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:jg(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:jg(e.auth),p256dh:jg(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:jg(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:jg(e.auth),p256dh:jg(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:jg(e.vapidKey)}}}}});return n.close(),await Ig(Ug),await Ig("fcm_vapid_details_db"),await Ig("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await Vg(e,t),t}}async function Vg(e,t){const n=Kg(e),r=(await Wg()).transaction(Bg,"readwrite");return await r.objectStore(Bg).put(t,n),await r.done,t}function Kg(e){let{appConfig:t}=e;return t.appId}const $g=new ct("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function Yg(e,t){const n={method:"DELETE",headers:await Gg(e)};try{const r=await fetch("".concat(Qg(e.appConfig),"/").concat(t),n),i=await r.json();if(i.error){const e=i.error.message;throw $g.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw $g.create("token-unsubscribe-failed",{errorInfo:null===r||void 0===r?void 0:r.toString()})}}function Qg(e){let{projectId:t}=e;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}async function Gg(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(r)})}function Xg(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const o={web:{endpoint:r,auth:n,p256dh:t}};return i!==Ag&&(o.web.applicationPubKey=i),o}async function Jg(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fg(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:jg(t.getKey("auth")),p256dh:jg(t.getKey("p256dh"))},r=await Hg(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await Gg(e),r=Xg(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch("".concat(Qg(e.appConfig),"/").concat(t.token),i);o=await n.json()}catch(s){throw $g.create("token-update-failed",{errorInfo:null===s||void 0===s?void 0:s.toString()})}if(o.error){const e=o.error.message;throw $g.create("token-update-failed",{errorInfo:e})}if(!o.token)throw $g.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Vg(e.firebaseDependencies,r),n}catch(Um){throw await Zg(e),Um}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Yg(e.firebaseDependencies,r.token)}catch(Um){console.warn(Um)}return em(e.firebaseDependencies,n)}return em(e.firebaseDependencies,n)}async function Zg(e){const t=await Hg(e.firebaseDependencies);t&&(await Yg(e.firebaseDependencies,t.token),await async function(e){const t=Kg(e),n=(await Wg()).transaction(Bg,"readwrite");await n.objectStore(Bg).delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function em(e,t){const n=await async function(e,t){const n=await Gg(e),r=Xg(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(Qg(e.appConfig),i);o=await t.json()}catch(s){throw $g.create("token-subscribe-failed",{errorInfo:null===s||void 0===s?void 0:s.toString()})}if(o.error){const e=o.error.message;throw $g.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw $g.create("token-subscribe-no-token");return o.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await Vg(e,r),r.token}function tm(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,o,s;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const l=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function nm(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function rm(e){return $g.create("missing-app-config-values",{valueName:e})}nm("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nm("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class im{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw rm("App Configuration Object");if(!e.name)throw rm("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw rm(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function om(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{})}catch(Um){throw $g.create("failed-service-worker-registration",{browserErrorMessage:null===Um||void 0===Um?void 0:Um.message})}}async function sm(e,t){if(!navigator)throw $g.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw $g.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Ag)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await om(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw $g.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),Jg(e)}async function am(e,t,n){const r=function(e){switch(e){case Mg.NOTIFICATION_CLICKED:return"notification_open";case Mg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Og],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function lm(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Mg.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(tm(n)):e.onMessageHandler.next(tm(n)));const r=n.data;(function(e){return"object"===typeof e&&!!e&&Og in e})(r)&&"1"===r["google.c.a.e"]&&await am(e,n.messageType,r)}const cm="@firebase/messaging",um="0.12.4",hm=e=>{const t=new im(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>lm(t,e)),t},dm=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>sm(t,e)}};async function fm(){try{await at()}catch(Um){return!1}return"undefined"!==typeof window&&st()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function pm(e){return async function(e){if(!navigator)throw $g.create("only-available-in-window");return e.swRegistration||await om(e),Zg(e)}(e=St(e))}function gm(e,t){return function(e,t){if(!navigator)throw $g.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=St(e),t)}Rn(new kt("messaging",hm,"PUBLIC")),Rn(new kt("messaging-internal",dm,"PRIVATE")),Fn(cm,um),Fn(cm,um,"esm2017");const mm=Mn({apiKey:"AIzaSyA-FwUy8WLXiYtT46F0f59gr461cEI_zmo",authDomain:"protocol-chat-b6120.firebaseapp.com",databaseURL:"https://protocol-chat-b6120-default-rtdb.europe-west1.firebasedatabase.app",projectId:"protocol-chat-b6120",storageBucket:"protocol-chat-b6120.appspot.com",messagingSenderId:"969101904718",appId:"1:969101904718:web:8dcd0bc8690649235cec1f"}),ym=(function(e,t){const n="string"==typeof e?e:t||"(default)",r=Dn("object"==typeof e?e:jn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ze("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=ul(e,dl))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=aa.MOCK_USER;else{t=nt(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ya(ma.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new aa(o)}e._authCredentials=new wa(new _a(t,n))}}(r,...e)}}(mm),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn(),t=arguments.length>1?arguments[1]:void 0;const n=Dn(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Ze("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=St(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Ol("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ol('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Jl(Jl.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:nt(r.mockUserToken,e.app.options.projectId);o=new Jl(t)}!function(e,t,n,r){e.repoInfo_=new ic("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}(mm)),vm="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_VAPID_KEY?{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_VAPID_KEY:"BAhd__iDU8kvxQ65a7ebCZCL8HpB9B07W4BkythVrR__ZweCuef7db6mzErw-3hPk7VhSG_LJHocyAbtDXZuAHI";let _m=null;try{_m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn();return fm().then(e=>{if(!e)throw $g.create("unsupported-browser")},e=>{throw $g.create("indexed-db-unsupported")}),Dn(St(e),"messaging").getImmediate()}(mm)}catch(zm){_m=null}async function bm(){if(!_m)return null;if(!("serviceWorker"in navigator)||!("PushManager"in window))return null;try{await navigator.serviceWorker.register("/firebase-messaging-sw.js")}catch(zm){console.warn("Service worker registration failed",zm)}if("default"===Notification.permission)try{await Notification.requestPermission()}catch(zm){return console.warn("Notification permission request failed",zm),null}if("granted"!==Notification.permission)return null;try{const e=await async function(e,t){return sm(e=St(e),t)}(_m,{vapidKey:vm});return e||null}catch(zm){return console.warn("getToken failed",zm),null}}var wm=n(579);const Cm=(0,i.createContext)();function Sm(){return(0,i.useContext)(Cm)}function km(e){e?localStorage.setItem("user",JSON.stringify(e)):localStorage.removeItem("user")}function Em(e){let{children:t}=e;const[n,r]=(0,i.useState)(()=>{try{return JSON.parse(localStorage.getItem("user")||"null")}catch(Um){return null}}),[o,s]=(0,i.useState)(!0);(0,i.useEffect)(()=>{s(!1)},[]),(0,i.useEffect)(()=>{let e=null,t=null,r=null;return n&&async function(n){if(!n)return;try{e=Wf(ym,"presence/".concat(n.id)),await Kf(e,!0),t=function(e){return e=St(e),new Mf(e._repo,e._path)}(e),t.remove()}catch(zm){console.warn("presence setup failed",zm)}const i=()=>{try{Kf(e,!1)}catch(t){}};window.addEventListener("beforeunload",i),document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?(()=>{try{Kf(e,!0)}catch(t){}})():i()});try{const e=await bm();if(e){r=e;try{const t=Wf(ym,"fcmTokens/".concat(n.id,"/").concat(e));await Kf(t,!0)}catch(zm){console.warn("storing fcm token failed",zm)}}}catch(zm){console.warn("obtainFcmToken failed",zm)}try{o=e=>{console.debug("Foreground push received (ignored)",e)},_m&&gm(_m,e=>{o(e)})}catch(zm){}var o}(n),()=>{if(e&&n)try{Kf(Wf(ym,"presence/".concat(n.id)),!1)}catch(t){}if(r&&n){try{!async function(e){if(_m&&e)try{await pm(_m)}catch(zm){console.warn("deleteToken failed",zm)}}(r)}catch(t){}try{Kf(Wf(ym,"fcmTokens/".concat(n.id,"/").concat(r)),null)}catch(t){}}}},[n]);const a={user:n,register:async e=>{let{username:t,password:n}=e;if(!t||!t.trim())throw new Error("username required");if(!n)throw new Error("password required");const i=Wf(ym,"users"),o=op(i,np("username"),ip(t)),s=await $f(o);if(s&&s.exists())throw new Error("Username already taken");const a=Vf(i),l={id:a.key,username:t,password:n};return await Kf(a,l),km(l),r(l),l},login:async e=>{let{username:t,password:n}=e;if(!t||!n)throw new Error("username & password required");const i=op(Wf(ym,"users"),np("username"),ip(t)),o=await $f(i),s=o&&o.val()||{},a=Object.entries(s).map(e=>{let[t,n]=e;return Me({},n)}).find(e=>e.username===t&&e.password===n);if(!a)throw new Error("Invalid username/password.");return km(a),r(a),a},logout:async()=>{try{if(n&&n.id){await Kf(Wf(ym,"presence/".concat(n.id)),!1);const e=await $f(Wf(ym,"fcmTokens/".concat(n.id))),t=e&&e.val()||{};for(const r of Object.keys(t))await Kf(Wf(ym,"fcmTokens/".concat(n.id,"/").concat(r)),null)}}catch(zm){console.warn("logout cleanup failed",zm)}km(null),r(null),localStorage.removeItem("lastChat")},initializing:o};return(0,wm.jsx)(Cm.Provider,{value:a,children:t})}function Tm(){const{login:e}=Sm(),t=ne(),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1);return(0,wm.jsxs)("div",{className:"app-wrap",style:{maxWidth:480},children:[(0,wm.jsx)("div",{style:{textAlign:"center",marginBottom:18},children:(0,wm.jsxs)("div",{className:"app-title",style:{justifyContent:"center"},children:[(0,wm.jsx)("img",{src:"/icon-192.png",alt:"Protocol",style:{width:36,height:36,borderRadius:8}}),(0,wm.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,wm.jsx)("div",{style:{fontSize:22},children:"Protocol"}),(0,wm.jsx)("div",{style:{fontSize:13,color:"var(--muted)"},children:"Secure, simple messaging"})]})]})}),(0,wm.jsx)("div",{className:"panel",children:(0,wm.jsxs)("form",{onSubmit:async function(r){r&&r.preventDefault(),l(null),u(!0);try{await e({username:n,password:o}),t("/",{replace:!0})}catch(Al){l(Al.message||"Failed to login."),u(!1)}},style:{display:"flex",flexDirection:"column",gap:12},children:[(0,wm.jsxs)("div",{className:"form-row",children:[(0,wm.jsx)("label",{children:"Username"}),(0,wm.jsx)("input",{value:n,onChange:e=>r(e.target.value),autoFocus:!0})]}),(0,wm.jsxs)("div",{className:"form-row",children:[(0,wm.jsx)("label",{children:"Password"}),(0,wm.jsx)("input",{type:"password",value:o,onChange:e=>s(e.target.value)})]}),a&&(0,wm.jsx)("div",{style:{color:"salmon"},children:a}),(0,wm.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,wm.jsx)("button",{className:"btn",type:"submit",disabled:c,children:c?"Signing in...":"Sign in"}),(0,wm.jsx)("div",{style:{marginLeft:"auto"},children:(0,wm.jsx)(Ne,{to:"/register",style:{color:"var(--muted)"},children:"Create account"})})]})]})})]})}function xm(){const{register:e}=Sm(),t=ne(),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1);return(0,wm.jsxs)("div",{className:"app-wrap",style:{maxWidth:520},children:[(0,wm.jsx)("div",{style:{textAlign:"center",marginBottom:18},children:(0,wm.jsxs)("div",{className:"app-title",style:{justifyContent:"center"},children:[(0,wm.jsx)("img",{src:"/icon-192.png",alt:"Protocol",style:{width:36,height:36,borderRadius:8}}),(0,wm.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,wm.jsx)("div",{style:{fontSize:22},children:"Protocol"}),(0,wm.jsx)("div",{style:{fontSize:13,color:"var(--muted)"},children:"Create a new account"})]})]})}),(0,wm.jsx)("div",{className:"panel",children:(0,wm.jsxs)("form",{onSubmit:async function(r){r&&r.preventDefault(),l(null),u(!0);try{await e({username:n,password:o}),t("/",{replace:!0})}catch(Al){l(Al.message||"Failed to register."),u(!1)}},style:{display:"flex",flexDirection:"column",gap:12},children:[(0,wm.jsxs)("div",{className:"form-row",children:[(0,wm.jsx)("label",{children:"Username"}),(0,wm.jsx)("input",{value:n,onChange:e=>r(e.target.value),autoFocus:!0})]}),(0,wm.jsxs)("div",{className:"form-row",children:[(0,wm.jsx)("label",{children:"Password"}),(0,wm.jsx)("input",{type:"password",value:o,onChange:e=>s(e.target.value)})]}),a&&(0,wm.jsx)("div",{style:{color:"salmon"},children:a}),(0,wm.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,wm.jsx)("button",{className:"btn",type:"submit",disabled:c,children:c?"Creating...":"Create account"}),(0,wm.jsx)("div",{style:{marginLeft:"auto"},children:(0,wm.jsx)(Ne,{to:"/login",style:{color:"var(--muted)"},children:"Already have an account?"})})]})]})})]})}function Im(e){let{onClose:t}=e;const{user:n}=Sm(),[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(null),u=ne();return(0,wm.jsxs)(wm.Fragment,{children:[(0,wm.jsx)("div",{className:"modal-overlay",onClick:()=>t&&t()}),(0,wm.jsxs)("div",{className:"modal",role:"dialog","aria-modal":"true",children:[(0,wm.jsx)("h3",{style:{marginTop:0},children:"New Chat"}),(0,wm.jsx)("p",{className:"help",children:"Give the chat a name and list participants by username (comma-separated)."}),(0,wm.jsxs)("form",{onSubmit:async e=>{e&&e.preventDefault(),c(null);const i=(r||"").trim();if(!i)return void c("Please enter a chat name.");let o=(s||"").split(",").map(e=>e.trim()).filter(Boolean);o.includes(n.username)||o.push(n.username);try{const e=Wf(ym,"users"),r=await $f(e),s=r&&r.val()||{},a={};Object.entries(s).forEach(e=>{let[t,n]=e;n&&n.username&&(a[n.username]=t)});const l=[];for(const t of o){if(!a[t])throw new Error("User not found: ".concat(t));l.push({id:a[t],username:t})}const c=Wf(ym,"chats"),h=await $f(c),d=h&&h.val()||{},f=l.map(e=>e.id).sort().join("|");for(const[n,o]of Object.entries(d)){const e=o.participants||[],r=Array.isArray(e)?e.slice().sort().join("|"):"";if((o.name||"").trim()===i&&r===f)return t&&t(),void u("/chats/".concat(n))}const p=Vf(c),g=p.key,m={id:g,name:i,participants:l.map(e=>e.id),participantUsernames:l.map(e=>e.username),createdAt:Date.now(),createdBy:n&&n.id?n.id:null,lastMessage:null,lastMessageAt:null};Object.keys(m).forEach(e=>{void 0===m[e]&&(m[e]=null)}),await Kf(p,m),await Promise.all(l.map(e=>Kf(Wf(ym,"userChats/".concat(e.id,"/").concat(g)),{chatId:g,addedAt:Date.now()}))),t&&t(),u("/chats/".concat(g))}catch(Al){console.error("createChat error",Al),c(Al&&Al.message||"Failed to create chat.")}},style:{display:"flex",flexDirection:"column",gap:12,marginTop:12},children:[(0,wm.jsxs)("div",{className:"form-row",children:[(0,wm.jsx)("label",{children:"Chat name"}),(0,wm.jsx)("input",{value:r,onChange:e=>o(e.target.value)})]}),(0,wm.jsxs)("div",{className:"form-row",children:[(0,wm.jsx)("label",{children:"Participants (comma-separated usernames)"}),(0,wm.jsx)("input",{value:s,onChange:e=>a(e.target.value),placeholder:"alice, bob"})]}),l&&(0,wm.jsx)("div",{style:{color:"salmon"},children:l}),(0,wm.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[(0,wm.jsx)("button",{className:"btn",type:"submit",children:"Create"}),(0,wm.jsx)("button",{className:"btn secondary",type:"button",onClick:()=>t&&t(),children:"Cancel"})]})]})]})]})}function Nm(e){let{chat:t}=e;const n=t.lastMessage||(t.participantUsernames?"Conversation with ".concat(t.participantUsernames.join(", ")):""),r=t.lastMessageAt?new Date(t.lastMessageAt).toLocaleString():"";return(0,wm.jsxs)("div",{className:"chat-item",role:"button",tabIndex:0,children:[(0,wm.jsx)("div",{className:"name",children:t.name||"Chat ".concat(t.id)}),(0,wm.jsxs)("div",{className:"meta",children:[(0,wm.jsx)("div",{className:"preview",children:n}),(0,wm.jsx)("div",{style:{color:"var(--muted)",fontSize:12},children:r})]})]})}function Pm(){const{user:e,logout:t}=Sm(),[n,r]=(0,i.useState)([]),[o,s]=(0,i.useState)(!0),[a,l]=(0,i.useState)(!1),c=ne();return(0,i.useEffect)(()=>{if(!e||!e.id)return r([]),void s(!1);s(!0);const t=Xf(Wf(ym,"userChats/".concat(e.id)),async e=>{const t=e.val()||{},n=Object.keys(t||{});try{const e=n.map(async e=>{const t=await $f(Wf(ym,"chats/".concat(e)));return t&&t.exists()?Me({id:e},t.val()):null}),t=(await Promise.all(e)).filter(Boolean);t.sort((e,t)=>(t.lastMessageAt||0)-(e.lastMessageAt||0)),r(t)}catch(zm){console.error("ChatList: error fetching chats",zm),r([])}finally{s(!1)}});return()=>{try{t()}catch(Um){}}},[e]),e?(0,wm.jsxs)("div",{className:"app-wrap",children:[(0,wm.jsxs)("div",{className:"topbar",children:[(0,wm.jsxs)("div",{className:"app-title",children:[(0,wm.jsx)("img",{src:"/icon-192.png",alt:"Protocol",style:{width:36,height:36,borderRadius:8}}),(0,wm.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,wm.jsx)("div",{style:{fontSize:18},children:"Protocol"}),(0,wm.jsx)("div",{style:{fontSize:12,color:"var(--muted)"},children:"Private. Light. Fast."})]})]}),(0,wm.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,wm.jsx)("button",{className:"btn",onClick:()=>l(!0),children:"New chat"}),(0,wm.jsx)("button",{className:"btn logout",onClick:()=>{t(),c("/login")},children:"Logout"})]})]}),(0,wm.jsxs)("div",{className:"layout",style:{marginTop:12},children:[(0,wm.jsxs)("aside",{className:"sidebar",children:[(0,wm.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,wm.jsx)("div",{style:{fontWeight:700},children:"Chats"}),(0,wm.jsx)("div",{style:{color:"var(--muted)"},children:e.username})]}),(0,wm.jsx)("div",{className:"chat-list",children:o?(0,wm.jsx)("div",{style:{padding:12,color:"var(--muted)"},children:"Loading chats\u2026"}):(0,wm.jsxs)(wm.Fragment,{children:[0===n.length&&(0,wm.jsx)("div",{style:{padding:12,color:"var(--muted)"},children:"No chats yet"}),n.map(e=>(0,wm.jsx)(Ne,{to:"/chats/".concat(e.id),style:{textDecoration:"none",color:"inherit"},children:(0,wm.jsx)(Nm,{chat:e})},e.id))]})})]}),(0,wm.jsx)("main",{className:"panel",style:{minHeight:420},children:(0,wm.jsx)("div",{style:{color:"var(--muted)"},children:"Open or create a chat to start messaging."})})]}),a&&(0,wm.jsx)(Im,{onClose:()=>l(!1)})]}):null}const Rm=[e=>"messages/".concat(e),e=>"chatMessages/".concat(e),e=>"chats/".concat(e,"/messages"),e=>"messagesByChat/".concat(e),e=>"chats/".concat(e,"/messagesById")];function Dm(){const{chatId:e}=function(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}(),t=ne(),{user:n}=Sm(),[r,o]=(0,i.useState)([]),[s,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(""),[u,h]=(0,i.useState)(null),[d,f]=(0,i.useState)(null),p=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(!e||!n)return;let r=null,i=null,s=!0;return async function(){try{const n=Wf(ym,"chats/".concat(e));i=Xf(n,n=>{if(!n||!n.exists())return a(null),void t("/",{replace:!0});s&&a(Me({id:e},n.val()||{}))});let l=null;for(const t of Rm){const n=t(e),r=await $f(Wf(ym,n));if(r&&r.exists()){l=n;break}}if(l||(l="messages/".concat(e)),!s)return;h(l),r=Xf(Wf(ym,l),e=>{const t=e.val()||{},n=Object.entries(t).map(e=>{let[t,n]=e;return Me({id:t},n||{})});n.sort((e,t)=>(e.timestamp||0)-(t.timestamp||0)),o(n),setTimeout(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},70)},e=>{console.error("failed to attach message listener",e),f("Failed to subscribe to messages")})}catch(zm){console.error("ChatView setup error",zm),f("Unable to load chat")}}(),()=>{s=!1;try{"function"===typeof r&&r()}catch(e){}try{"function"===typeof i&&i()}catch(e){}}},[e,n,t]),n?s?(0,wm.jsxs)("div",{className:"chat-view",children:[(0,wm.jsxs)("div",{className:"chat-header",children:[(0,wm.jsx)("button",{className:"chat-back",onClick:()=>t(-1),"aria-label":"Go back",children:(0,wm.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,wm.jsx)("path",{d:"M15 18l-6-6 6-6",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,wm.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,wm.jsx)("div",{style:{fontWeight:700},children:s.name||"Chat ".concat(s.id)}),(0,wm.jsx)("div",{style:{color:"var(--muted)",fontSize:13},children:s.participantUsernames?s.participantUsernames.join(", "):""})]}),(0,wm.jsx)("div",{style:{marginLeft:"auto",color:"var(--muted)"},children:d&&(0,wm.jsx)("span",{style:{color:"salmon"},children:d})})]}),(0,wm.jsx)("div",{ref:p,className:"messages",children:0===r.length?(0,wm.jsx)("div",{style:{textAlign:"center",color:"var(--muted)",padding:24},children:"No messages yet \u2014 say hello!"}):r.map(e=>{const t=e.senderId===n.id;return(0,wm.jsx)("div",{style:{display:"flex",justifyContent:t?"flex-end":"flex-start"},children:(0,wm.jsxs)("div",{className:"message ".concat(t?"me":"other"),children:[(0,wm.jsx)("div",{style:{fontSize:14},children:e.message}),(0,wm.jsxs)("div",{className:"meta",children:[e.senderUsername?"".concat(e.senderUsername," \u2022 "):"",e.timestamp?new Date(e.timestamp).toLocaleString():""]})]})},e.id)})}),(0,wm.jsxs)("form",{onSubmit:async function(t){if(t&&t.preventDefault&&t.preventDefault(),f(null),!l||!l.trim()||!e||!n)return;const r=l.trim();c("");try{const t=u||"messages/".concat(e),o=Vf(Wf(ym,t));await Kf(o,{senderId:n.id,senderUsername:n.username||null,message:r,timestamp:Date.now()});try{await Kf(Wf(ym,"chats/".concat(e,"/lastMessage")),r),await Kf(Wf(ym,"chats/".concat(e,"/lastMessageAt")),Date.now())}catch(i){console.warn("Failed to update chat metadata",i)}}catch(zm){console.error("sendMessage error:",zm),f("Failed to send message")}},className:"message-input-wrap",style:{alignItems:"center"},children:[(0,wm.jsx)("input",{className:"message-input",value:l,onChange:e=>c(e.target.value),"aria-label":"Type a message"}),(0,wm.jsx)("button",{className:"btn",type:"submit",children:"Send"})]})]}):(0,wm.jsx)("div",{style:{padding:12},children:"Select a chat"}):null}function Am(e){let{children:t}=e;const{user:n}=Sm(),r=ee();return n?t:(0,wm.jsx)(ye,{to:"/login",replace:!0,state:{from:r}})}function Om(){const{user:e}=Sm(),t=ne(),n=ee();return i.useEffect(()=>{if(!e)return;if(!["/","/login","/register"].includes(n.pathname))return;const r=localStorage.getItem("lastChat");t(r?"/chats/".concat(r):"/chats",{replace:!0})},[e,t,n.pathname]),(0,wm.jsxs)(be,{children:[(0,wm.jsx)(ve,{path:"/",element:e?(0,wm.jsx)(ye,{to:"/chats"}):(0,wm.jsx)(ye,{to:"/login"})}),(0,wm.jsx)(ve,{path:"/login",element:(0,wm.jsx)(Tm,{})}),(0,wm.jsx)(ve,{path:"/register",element:(0,wm.jsx)(xm,{})}),(0,wm.jsx)(ve,{path:"/chats",element:(0,wm.jsx)(Am,{children:(0,wm.jsx)(Pm,{})})}),(0,wm.jsx)(ve,{path:"/chats/:chatId",element:(0,wm.jsx)(Am,{children:(0,wm.jsx)(Dm,{})})}),(0,wm.jsx)(ve,{path:"*",element:(0,wm.jsx)("div",{style:{padding:30},children:"404 - Not Found"})})]})}function Lm(){return(0,wm.jsx)(Em,{children:(0,wm.jsx)(Om,{})})}class Mm extends i.Component{constructor(e){super(e),this.copyToClipboard=async()=>{try{const e=this.buildReport();if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(e),alert("Error text copied to clipboard. Paste it here.");else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy"),alert("Error text copied to clipboard (via fallback). Paste it here.")}finally{document.body.removeChild(t)}}}catch(Um){console.error("Copy failed",Um),alert("Copy failed: "+String(Um))}},this.buildReport=()=>{const e=this.state.error,t=this.state.info,n="undefined"!==typeof window?window.location.href:"<no-window>",r="undefined"!==typeof window?window.location.hash:"";let i=null;try{i=localStorage.getItem("frbs_user")}catch(Um){i="<localStorage read error: ".concat(String(Um),">")}const o=new Date(this.state.time||Date.now()).toISOString();return["==== FRBS Chat - Error Report (".concat(o,") ===="),"URL: ".concat(n),"Hash: ".concat(r),"frbs_user (localStorage): ".concat(i),"","Error (toString): ".concat(e?String(e):"<no error>","\n"),"Error.stack:\n".concat(e&&e.stack?e.stack:"<no stack>","\n"),"Component stack:\n".concat(t||"<no component stack>","\n"),"User agent: ".concat("undefined"!==typeof navigator?navigator.userAgent:"<no navigator>","\n"),"Window size: ".concat("undefined"!==typeof window?window.innerWidth+"x"+window.innerHeight:"<no window>","\n"),"==== End Report ===="].join("\n")},this.state={hasError:!1,error:null,info:null,time:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,info:null,time:Date.now()}}componentDidCatch(e,t){this.setState({error:e,info:t&&t.componentStack?t.componentStack:null,time:Date.now()}),console.error("ErrorBoundary caught an error",e,t)}render(){if(!this.state.hasError)return this.props.children;const e=this.state.error,t=(this.state.info,this.buildReport());return(0,wm.jsx)("div",{style:{position:"fixed",inset:0,zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"center",padding:18,background:"rgba(0,0,0,0.55)",fontFamily:"system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial"},children:(0,wm.jsxs)("div",{style:{width:"min(980px, 96%)",maxHeight:"92vh",overflow:"auto",background:"#fff8f6",color:"#7a0000",borderRadius:10,boxShadow:"0 18px 60px rgba(0,0,0,0.45)",padding:16,lineHeight:1.3,fontSize:13},children:[(0,wm.jsx)("h2",{style:{marginTop:0},children:"Application error"}),(0,wm.jsx)("div",{style:{marginBottom:12},children:(0,wm.jsx)("strong",{style:{color:"#5a0000"},children:e&&e.message?e.message:String(e)})}),(0,wm.jsxs)("details",{style:{whiteSpace:"pre-wrap",marginBottom:12},children:[(0,wm.jsx)("summary",{style:{cursor:"pointer",fontWeight:600},children:"Full error report (tap to expand)"}),(0,wm.jsx)("pre",{style:{marginTop:8,fontSize:12,overflowX:"auto",whiteSpace:"pre-wrap"},children:t})]}),(0,wm.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[(0,wm.jsx)("button",{onClick:()=>{try{window.location.reload()}catch(Um){}},style:{padding:"8px 12px",borderRadius:8,border:"none",background:"#e9b8b8",color:"#6a0000",cursor:"pointer"},children:"Reload page"}),(0,wm.jsx)("button",{onClick:this.copyToClipboard,style:{padding:"8px 12px",borderRadius:8,border:"none",background:"#bfe3ff",color:"#00385e",cursor:"pointer"},children:"Copy error text"}),(0,wm.jsx)("button",{onClick:()=>{try{window.location.hash="/#/login",window.location.reload()}catch(Um){}},style:{padding:"8px 12px",borderRadius:8,border:"none",background:"#dfe7d8",color:"#0b4b00",cursor:"pointer"},children:"Go to Login"})]}),(0,wm.jsx)("div",{style:{marginTop:12,color:"#5a0000"},children:'Tap "Copy error text", paste the copied text here (in this chat) and I will fix the root cause. If copy doesn\'t work on your iPhone, take a screenshot and paste the image text manually.'})]})})}}const jm=document.getElementById("root");function Fm(e){try{let t=document.getElementById("global-error-banner");t||(t=document.createElement("div"),t.id="global-error-banner",Object.assign(t.style,{position:"fixed",left:"8px",right:"8px",bottom:"12px",zIndex:99999,background:"#fff4f4",color:"#7a0000",padding:"12px",borderRadius:"10px",boxShadow:"0 8px 30px rgba(0,0,0,0.25)",fontSize:"13px",lineHeight:"1.2",maxHeight:"50vh",overflow:"auto",whiteSpace:"pre-wrap"}),document.body.appendChild(t)),t.textContent=e}catch(Um){console.error("showGlobalError failed",Um)}}(0,s.H)(jm).render((0,wm.jsx)(Te,{children:(0,wm.jsx)(Mm,{children:(0,wm.jsx)(Lm,{})})})),window.onerror=function(e,t,n,r,i){console.error("window.onerror",e,t,n,r,i);Fm("Runtime error: ".concat(e,"\nSource: ").concat(t,":").concat(n,":").concat(r,"\n").concat(i&&i.stack?i.stack:""))},window.addEventListener("unhandledrejection",function(e){console.error("unhandledrejection",e.reason);const t=e.reason&&e.reason.stack?e.reason.stack:String(e.reason);Fm("Unhandled promise rejection:\n".concat(t))})})();
//# sourceMappingURL=main.8040222d.js.map